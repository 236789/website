<!DOCTYPE html>
<html lang="ro">
<head>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-B6DWPJ4T2C"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-B6DWPJ4T2C');
  </script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Despre Lost Soul — KSDAPromovari</title>
  <link rel="icon" type="image/png" href="https://iili.io/fXks1Dv.png">  <!-- Fonts: Orbitron (UI/Gaming) & Poppins (Text) -->


  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --bg-dark: #050b14;
      --primary: #29f3ff;
      --lost-soul-pink: #ff2d95;
      --lost-soul-purple: #7a29a6;
      --text-main: #ffffff;
      --text-muted: #a5b1c2;
      --glass-border: rgba(255, 255, 255, 0.08);
      --glass-bg: rgba(13, 25, 41, 0.7);
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --discord-color: #5865F2;
      --card-radius: 24px;
    }

    * { box-sizing: border-box; outline: none; }
    html { scroll-behavior: smooth; }

    body {
      margin: 0;
      background-color: var(--bg-dark);
      background-image: linear-gradient(to bottom, rgba(5, 11, 20, 0.9), var(--bg-dark)), url('https://i.makeagif.com/media/3-03-2021/otrneG.gif');
      background-size: cover;
      background-attachment: fixed;
      font-family: 'Poppins', sans-serif;
      color: var(--text-main);
      overflow-x: hidden;
    }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-thumb { background: #1f3a52; border-radius: 10px; }

    /* Font Orbitron pentru UI */
    h1, h2, h3, .logo, .stat-number, .lost-btn, .bubbleBtn, #sideMenu a, .login-btn-header, .ban-title, .side-menu-login-btn, .pop-user, .streak-txt, .coins-count { 
        font-family: 'Orbitron', sans-serif; 
    }
    
    /* --- BANNED SCREEN STYLES --- */
    #bannedOverlay {
        display: none;
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(10, 0, 0, 0.98);
        z-index: 10000;
        flex-direction: column; justify-content: center; align-items: center;
        text-align: center; padding: 20px;
    }
    
    .ban-icon { font-size: 80px; color: #ff4757; margin-bottom: 20px; animation: pulseRed 2s infinite; }
    @keyframes pulseRed { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.7; } 100% { transform: scale(1); opacity: 1; } }
    
    .ban-title { font-size: 32px; color: #ff4757; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 2px; }
    .ban-details { background: rgba(255, 0, 0, 0.1); border: 1px solid #ff4757; padding: 30px; border-radius: 20px; max-width: 500px; width: 100%; }
    .ban-info-label { color: #888; font-size: 12px; text-transform: uppercase; margin-bottom: 5px; display: block; }
    .ban-info-val { color: #fff; font-size: 18px; font-weight: 600; margin-bottom: 20px; display: block; }

    /* --- ACCOUNT POPUP MODAL STYLES --- */
    .account-modal-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.85);
        display: none; justify-content: center; align-items: center;
        z-index: 11000; backdrop-filter: blur(10px);
    }
    .account-modal-overlay.active { display: flex; }

    .account-card {
        background: #08101b; border: 1px solid var(--primary);
        width: 90%; max-width: 380px; border-radius: 30px;
        padding: 40px 25px; text-align: center; position: relative;
        box-shadow: 0 0 50px rgba(41, 243, 255, 0.3);
        animation: jumpIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }
    @keyframes jumpIn {
        0% { transform: scale(0.3) translateY(100px); opacity: 0; }
        100% { transform: scale(1) translateY(0); opacity: 1; }
    }

    .close-pop { position: absolute; top: 15px; right: 20px; color: #fff; cursor: pointer; font-size: 24px; background: none; border: none; opacity: 0.5; }
    .pop-img { width: 90px; height: 90px; border-radius: 50%; border: 2px solid var(--primary); margin-bottom: 12px; box-shadow: 0 0 20px var(--primary-dim); }
    .pop-user { font-size: 18px; color: #fff; margin: 0; letter-spacing: 1px; }
    .pop-mail { font-size: 12px; color: var(--text-muted); margin-bottom: 20px; }

    .streak-box {
        display: inline-flex; align-items: center; gap: 8px;
        background: rgba(255, 69, 0, 0.1); border-radius: 50px;
        padding: 6px 16px; margin-bottom: 15px; border: 1px solid rgba(255, 69, 0, 0.2);
    }
    .streak-box i { color: #ff4500; font-size: 18px; animation: fireBurn 1.5s infinite; }
    @keyframes fireBurn { 0%, 100% { filter: brightness(1); } 50% { filter: brightness(1.5) drop-shadow(0 0 5px #ff4500); } }
    .streak-txt { font-weight: 800; color: #ff4500; font-size: 13px; }

    .coins-section {
        display: flex; flex-direction: column; align-items: center; gap: 5px;
        margin-bottom: 25px; background: rgba(255, 255, 255, 0.03);
        padding: 12px; border-radius: 20px; border: 1px solid var(--glass-border);
    }
    .coins-label { font-family: 'Orbitron'; font-size: 10px; color: var(--primary); text-transform: uppercase; }
    .coins-display { display: flex; align-items: center; gap: 10px; }
    .coins-icon-img { width: 30px; height: 30px; object-fit: contain; }
    .coins-count { font-size: 20px; font-weight: 900; color: #fff; }

    .btn-tasks {
        background: rgba(41, 243, 255, 0.05); border: 1px solid var(--primary); color: var(--primary);
        padding: 16px; border-radius: 18px; text-decoration: none; display: flex;
        flex-direction: column; align-items: center; gap: 5px; transition: 0.3s; margin-bottom: 15px;
    }
    .btn-tasks:hover { background: var(--primary); color: #000; box-shadow: 0 0 20px var(--primary-dim); }
    .tasks-title { font-family: 'Orbitron'; font-weight: 800; font-size: 14px; text-transform: uppercase; }
    .tasks-desc { font-family: 'Poppins'; font-size: 10px; opacity: 0.8; }

    .btn-logout-pop {
        background: transparent; border: 1.5px solid #ff4757; color: #ff4757;
        padding: 10px 25px; border-radius: 12px; font-family: 'Orbitron'; font-weight: 700;
        cursor: pointer; transition: 0.3s; font-size: 12px; text-transform: uppercase;
    }
    .btn-logout-pop:hover { background: #ff4757; color: #fff; box-shadow: 0 0 15px rgba(255, 71, 87, 0.4); }

    /* --- HEADER --- */
    .header-container { position: fixed; top: 0; width: 100%; padding: 15px; z-index: 1000; display: flex; justify-content: center; }
    header {
      width: 100%; max-width: 1200px; display: flex; align-items: center; justify-content: space-between;
      padding: 10px 25px; background: rgba(5, 11, 20, 0.7); border: 1px solid var(--glass-border);
      border-radius: 100px; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    }
    .logo { 
      font-weight: 900; font-size: 24px; letter-spacing: 1px;
      background: linear-gradient(90deg, #fff, var(--primary)); 
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
      text-decoration: none; text-transform: uppercase; 
    }
    nav { display: flex; gap: 25px; align-items: center; }
    nav a { color: var(--text-muted); text-decoration: none; font-size: 13px; font-weight: 600; transition: 0.3s; }
    nav a:hover { color: var(--primary); }
    
    /* LOGIN BUTTON IN HEADER */
    .login-btn-header {
        background: transparent;
        border: 1.5px solid var(--primary);
        color: var(--primary);
        padding: 8px 20px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 700;
        cursor: pointer;
        text-transform: uppercase;
        transition: 0.3s;
        display: flex; align-items: center; gap: 8px;
    }
    .login-btn-header:hover {
        background: var(--primary); color: #000;
        box-shadow: 0 0 15px rgba(41, 243, 255, 0.4);
    }
    .user-avatar-small {
        width: 24px; height: 24px; border-radius: 50%;
        border: 1px solid #fff; display: none;
    }

    .hamburger { display: none; background: none; border: none; color: #fff; font-size: 26px; cursor: pointer; }

    /* --- SIDE MENU (UPDATED) --- */
    #sideMenu { 
        position: fixed; inset: 0; left: auto; width: 320px; 
        background: #080f1a; border-left: 1px solid rgba(255,255,255,0.05); 
        z-index: 2000; padding: 40px 30px; transform: translateX(100%); 
        transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1); display: flex; flex-direction: column; 
    }
    #sideMenu.open { transform: translateX(0); }
    
    .menu-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
    .menu-logo { font-size: 38px; font-weight: 900; letter-spacing: 2px; }
    .closeBtn { font-size: 40px; background: none; border: none; color: #fff; cursor: pointer; }
    
    .menu-divider { width: 100%; height: 1px; background: rgba(255,255,255,0.08); margin-bottom: 50px; }
    
    .menu-links { display: flex; flex-direction: column; gap: 35px; }
    .menu-links a { 
      color: #fff; text-decoration: none; font-size: 26px; font-weight: 600; 
      transition: 0.3s; letter-spacing: 0.5px;
    }
    .menu-links a.cyan-link { color: var(--primary); }
    .menu-links a:hover { opacity: 0.8; }

    /* --- NEW SIDE MENU LOGIN BUTTON CSS --- */
    .side-menu-login-btn {
        background: rgba(41, 243, 255, 0.1);
        border: 1px solid var(--primary);
        color: var(--primary);
        width: 100%;
        padding: 15px;
        margin-top: 20px;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 700;
        cursor: pointer;
        transition: 0.3s;
        text-transform: uppercase;
        letter-spacing: 1px;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
    }

    /* Hover for LOGIN (Cyan) */
    .side-menu-login-btn:hover {
        background: var(--primary);
        color: #000;
        box-shadow: 0 0 20px rgba(41, 243, 255, 0.4);
    }

    /* LOGOUT MODE (Red) */
    .side-menu-login-btn.logout-mode {
        border-color: #ff4757;
        color: #ff4757;
        background: rgba(255, 71, 87, 0.1);
    }

    /* Hover for LOGOUT (Red) */
    .side-menu-login-btn.logout-mode:hover {
        background: #ff4757;
        color: #fff;
        box-shadow: 0 0 20px rgba(255, 71, 87, 0.4);
        border-color: #ff4757;
    }
    
    .side-menu-login-btn i { font-size: 18px; }

    /* --- HERO SECTION --- */
    .hero-section { padding: 140px 20px 40px; display: flex; flex-direction: column; align-items: center; text-align: center; }
    
    .metallic-title {
      font-size: clamp(32px, 8vw, 65px); margin: 0 0 25px;
      background: linear-gradient(180deg, #ffffff 0%, #a2cfff 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      text-transform: uppercase; font-weight: 900;
    }

    .showcase-image {
      width: 100%; 
      max-width: 320px; 
      margin: 0 auto 25px auto;
      display: block;
      filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
    }

    .lost-btn {
      width: 100%; max-width: 320px; padding: 16px; margin: 8px auto;
      background: linear-gradient(to right, var(--lost-soul-purple), #c23d85);
      border-radius: 12px; color: white; text-decoration: none;
      font-weight: 700; text-transform: uppercase; font-size: 14px;
      border: 1px solid rgba(255,255,255,0.1); transition: 0.3s;
      display: block; letter-spacing: 1px;
    }
    .lost-btn:hover { transform: scale(1.03); box-shadow: 0 0 20px var(--lost-soul-pink); }

    .social-row { display: flex; gap: 15px; margin: 20px 0; justify-content: center; }
    .social-circle {
      width: 55px; height: 55px; background: var(--lost-soul-purple);
      border-radius: 50%; display: flex; align-items: center; justify-content: center;
      color: white; font-size: 22px; text-decoration: none; transition: 0.3s;
      box-shadow: 0 0 10px rgba(122, 41, 166, 0.5);
    }
    .social-circle:hover { transform: translateY(-5px); background: var(--lost-soul-pink); box-shadow: 0 0 20px var(--lost-soul-pink); }

    .pink-divider {
      width: 80%; max-width: 500px; height: 3px; background: var(--lost-soul-pink);
      box-shadow: 0 0 15px var(--lost-soul-pink); margin: 20px auto;
    }

    /* --- SERVICES SECTION --- */
    .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 60px 24px; }
    .section-title {
      font-size: 32px; text-align: center; margin-bottom: 60px;
      position: relative; display: block;
      background: linear-gradient(180deg, #ffffff 0%, #a2cfff 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
    .feature-card {
      background: var(--glass-bg); border: 1px solid var(--glass-border);
      border-radius: 24px; padding: 40px 30px; text-align: center;
      transition: var(--transition); backdrop-filter: blur(10px);
      display: flex; flex-direction: column; align-items: center;
    }
    .feature-card:hover { transform: translateY(-10px); border-color: var(--primary); }
    .feature-img { width: 80px; margin-bottom: 20px; filter: drop-shadow(0 0 10px var(--primary)); }
    .feature-card h3 { margin: 10px 0; color: #fff; font-family: 'Orbitron', sans-serif; }
    .feature-card p { color: var(--text-muted); font-size: 14px; line-height: 1.6; }

    .bubbleBtn { 
      padding: 10px 24px; border-radius: 50px; font-weight: 800; border: none; 
      font-size: 12px; text-transform: uppercase;
      background: linear-gradient(90deg, #1df7ff, #59ffd9); color: #05212a; 
      margin-top: 15px; text-decoration: none; transition: 0.3s;
      display: inline-block;
    }

    /* --- FOOTER --- */
    footer { padding: 60px 20px; text-align: center; border-top: 1px solid var(--glass-border); background: #02050a; }
    .footer-links { display: flex; justify-content: center; gap: 30px; margin: 25px 0; flex-wrap: wrap; }
    .footer-links a { color: var(--text-muted); text-decoration: none; font-size: 14px; transition: 0.2s; font-weight: 500; }
    .footer-links a:hover { color: var(--primary); }
    .footer-pfp-img { width: 80px; height: 80px; border-radius: 50%; border: 2px solid var(--primary); margin-bottom: 15px; transition: 0.3s; }
    .discord-footer { width: 45px; filter: drop-shadow(0 0 8px var(--discord-color)); margin-top: 10px; transition: 0.3s; }

    @media (max-width: 768px) {
      nav { display: none; }
      .hamburger { display: block; }
      .metallic-title { font-size: 34px; }
      .showcase-image { max-width: 220px; } 
      .lost-btn { max-width: 90%; }
    }
  </style>
</head>
<body>

<!-- BANNED OVERLAY (ASCUNS INITIAL) -->
<div id="bannedOverlay">
    <i class="fas fa-ban ban-icon"></i>
    <h1 class="ban-title">ACCES INTERZIS</h1>
    <div class="ban-details">
        <span class="ban-info-label">Statut Cont:</span>
        <span class="ban-info-val" style="color:#ff4757;">BANAT PERMANENT</span>
        
        <span class="ban-info-label">Motiv:</span>
        <span class="ban-info-val" id="globalBanReason">Încălcare regulament comunitate</span>
        
        <p style="font-size:12px; color:#999; margin:0;">
            Adresa ta IP (<span id="globalBanIp">...</span>) a fost blocată.
        </p>
    </div>
</div>

<!-- ACCOUNT MODAL -->
<div id="accountModal" class="account-modal-overlay">
    <div class="account-card">
        <button id="closeAccountPop" class="close-pop">✕</button>
        <img id="popUserImg" src="" class="pop-img">
        <h3 id="popUserName" class="pop-user">Utilizator</h3>
        <p id="popUserEmail" class="pop-mail">email@exemplu.com</p>
        <div class="streak-box"><i class="fas fa-fire"></i><span class="streak-txt">Daily Streak: 0</span></div>
        <div class="coins-section">
            <span class="coins-label">Puncte KSDA</span>
            <div class="coins-display"><img src="https://iili.io/fhc1SKQ.png" class="coins-icon-img" alt="Coins"><span id="popUserCoins" class="coins-count">0</span></div>
        </div>
        <div class="pop-btns">
            <a href="DailyTasks.html" class="btn-tasks">
                <span class="tasks-title"><i class="fas fa-tasks"></i> Daily Tasks</span>
                <span class="tasks-desc">Câștigă puncte</span>
            </a>
            <button id="popLogoutBtn" class="btn-logout-pop">Log Out</button>
        </div>
    </div>
</div>

<div id="siteContent">

  <div class="header-container">
    <header>
<a href="index.html" class="logo">
    <img src="https://iili.io/fXvBEiB.png" alt="KSDA Logo" style="height: 40px; vertical-align: middle;">
</a>      <nav>
        <a href="index.html">Acasă</a>
        <a href="#services">Servicii</a>
        <a href="despre_noi.html">Despre Noi</a>
        <a href="help.html">Susține-ne</a>
        <!-- NEW LOGIN BUTTON -->
        <button id="headerLoginBtn" class="login-btn-header">
            <img id="headerUserImg" src="" class="user-avatar-small">
            <span id="headerLoginText">LOGIN</span>
        </button>
      </nav>
      <button id="menuBtn" class="hamburger">☰</button>
    </header>
  </div>

  <!-- SIDE MENU -->
  <aside id="sideMenu">
    <div class="menu-header">
<div class="logo menu-logo">
    <img src="https://iili.io/fXvBEiB.png" alt="KSDA Logo" style="height: 50px;">
</div>      <button id="closeMenu" class="closeBtn">✕</button>
    </div>
    <div class="menu-divider"></div>
    <div class="menu-links">
      <a href="index.html">Acasă</a>
      <a href="#services">Servicii</a>
      <a href="despre_noi.html">Despre Noi</a>
      <a href="help.html" class="cyan-link">Susține-ne</a>
      
      <!-- NEW BUTTON FOR MOBILE -->
      <button id="mobileLoginBtn" class="side-menu-login-btn">
          <i class="fas fa-sign-in-alt"></i> Autentificare
      </button>

    </div>
  </aside>

  <main class="hero-section">
    <img src="https://iili.io/f1ddIfe.png" alt="Lost Soul" class="main-avatar">

    <div class="bio-card">
        <h2 class="card-title">Despre mine</h2>
      
      <div class="card-body">
        <p>Salut! Eu sunt autorul, coderul și cel care a creat acest site și jocul <strong>Kevinută</strong>. Am 17 ani și sunt pasionat de programare, tehnologie și tot ceea ce ține de internet.</p>
        
        <p>Îmi place să învăț singur, să experimentez și să transform ideile în proiecte reale. Încă de mic am fost curios și am căutat să înțeleg cum funcționează lucrurile din jurul meu. Acum îmi folosesc această curiozitate pentru a construi, a dezvolta și a împărtăși ceea ce creez cu ceilalți.</p>
        
        <p>Sunt un adolescent obișnuit, dar în spatele fiecărui proiect pe care îl fac există o motivație mai mare: familia mea. Trăim simplu, eu – la 17 ani, tatăl meu de 40 de ani și fratele meu de 12 ani – și încercăm să ne sprijinim unii pe alții în fiecare zi. Prin munca mea sper să le ofer lor mai multă liniște și siguranță, iar în același timp să-mi construiesc propriul drum în viață.</p>
        
        <p>Știu că drumul nu este ușor, dar cred că atunci când pui suflet în ceea ce faci și nu renunți, orice obstacol poate fi depășit. Pentru mine, codul și creativitatea nu sunt doar o pasiune, ci o modalitate prin care pot să-mi exprim gândurile și să dau viață unor lumi noi. Jocul <strong>Kevinută</strong> este doar începutul – o parte dintr-un vis mai mare.</p>
        
        <p>Rămân modest, dar determinat să cresc, să învăț și să-mi transform pasiunea în ceva care să inspire și să aducă bucurie. Acesta este drumul meu și aleg să merg înainte, pas cu pas.</p>
      </div>
    </div>
  </main>

  <section id="services" class="container">
    <h2 class="section-title">Ce Oferim</h2>
    <div class="features-grid">
      <div class="feature-card">
        <img src="https://iili.io/f0l7wml.md.png" alt="Community" class="feature-img">
        <h3>Comunitate Unită</h3>
        <p>O comunitate vibrantă de artiști și creatori. Ne bazăm pe ajutor reciproc pentru a crește împreună.</p>
        <a href="comunitate.html" class="bubbleBtn">Detalii</a>
      </div>
      <div class="feature-card">
        <img src="https://iili.io/f0lYO8J.md.png" alt="Art" class="feature-img">
        <h3>Artă și Portrete</h3>
        <p>Realizăm portrete digitale personalizate care surprind emoția și detaliile fiecărei persoane.</p>
        <a href="kevin.html" class="bubbleBtn">Prețuri</a>
      </div>
      <div class="feature-card">
        <img src="https://iili.io/f0lk194.md.png" alt="Live" class="feature-img">
        <h3>Entertainment Live</h3>
        <p>Amuzament zilnic în live pe social media unde discutăm și ne simțim bine împreună.</p>
        <a href="social.html" class="bubbleBtn">Urmărește</a>
      </div>
    </div>
  </section>

  <footer>
    <a href="index.html" class="logo" style="font-size: 28px; display: block; margin-bottom: 20px;">KSDA</a>
    <div class="footer-links">
      <a href="#">Termeni și Condiții</a>
      <a href="#">Politica de Confidențialitate</a>
      <a href="contact.html">Contact</a>
      <a href="help.html">Susține-ne</a>
    </div>
    <div class="made-by-wrapper">
        <p style="color: var(--text-muted); font-size: 15px;">Website made by Lost Soul/Nica emmanuel</p>
        <a href="https://www.tiktok.com/@lost_soul_zzz" target="_blank">
          <img src="https://iili.io/f1ddIfe.png" alt="Lost Soul Profile" class="footer-pfp-img">
        </a>
        <br>
        <a href="https://discord.com/users/1063511180376817755" target="_blank">
          <img src="https://logo.svgcdn.com/logos/discord.svg" alt="Discord" class="discord-footer">
        </a>
    </div>
    <p style="color: #445; font-size: 11px; margin-top: 30px;">&copy; 2024 KSDAPromovari. Toate drepturile rezervate.</p>
  </footer>

</div> <!-- End Site Content -->

  <script>
    const menuBtn = document.getElementById("menuBtn");
    const sideMenu = document.getElementById("sideMenu");
    const closeMenu = document.getElementById("closeMenu");

    menuBtn.onclick = () => sideMenu.classList.add("open");
    closeMenu.onclick = () => sideMenu.classList.remove("open");
    
    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if(target) target.scrollIntoView({ behavior: 'smooth' });
        });
    });
  </script>

  <!-- FIREBASE GLOBAL LOGIC (UPDATED FOR MOBILE BUTTON) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
    import { getFirestore, doc, getDoc, onSnapshot, setDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

    // --- CONFIGURATIA TA ---
    const firebaseConfig = {
      apiKey: "AIzaSyDoH80kffNrzFAcyRqsTVdifs-whUhwH9A",
      authDomain: "ksda-7546f.firebaseapp.com",
      projectId: "ksda-7546f",
      storageBucket: "ksda-7546f.firebasestorage.app",
      messagingSenderId: "306437513808",
      appId: "1:306437513808:web:28479810e3fdf71b32e755"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const provider = new GoogleAuthProvider();

    // DOM Elements
    const siteContent = document.getElementById('siteContent');
    const bannedOverlay = document.getElementById('bannedOverlay');
    const globalBanReason = document.getElementById('globalBanReason');
    const globalBanIp = document.getElementById('globalBanIp');
    
    // Login Buttons
    const headerLoginBtn = document.getElementById('headerLoginBtn');
    const mobileLoginBtn = document.getElementById('mobileLoginBtn');
    const headerLoginText = document.getElementById('headerLoginText');
    const headerUserImg = document.getElementById('headerUserImg');

    // Account Modal Elements
    const accountModal = document.getElementById('accountModal');
    const closeAccountPop = document.getElementById('closeAccountPop');
    const popLogoutBtn = document.getElementById('popLogoutBtn');

   // 1. GLOBAL BAN CHECK (OPTIMIZED)
    async function checkGlobalBan() {
        // Check local storage first. If we already checked this session, STOP here.
        // This saves you 1 Read per page refresh.
        if (sessionStorage.getItem('isBanned') === 'false') {
            return; 
        }

        try {
            const res = await fetch('https://api.ipify.org?format=json');
            const data = await res.json();
            const userIP = data.ip;

            const banRef = doc(db, "banned_ips", userIP);
            const banSnap = await getDoc(banRef);

            if (banSnap.exists()) {
                // User IS banned
                const banData = banSnap.data();
                sessionStorage.setItem('isBanned', 'true'); // Remember they are banned
                
                if(document.getElementById('siteContent')) document.getElementById('siteContent').style.display = 'none';
                if(document.getElementById('bannedOverlay')) {
                    document.getElementById('bannedOverlay').style.display = 'flex';
                    document.getElementById('globalBanReason').innerText = banData.reason || "Nespecificat";
                    document.getElementById('globalBanIp').innerText = userIP;
                }
                document.body.style.overflow = 'hidden';
            } else {
                // User is NOT banned - Remember this!
                sessionStorage.setItem('isBanned', 'false');
            }
        } catch (e) {
            console.error("Eroare verificare ban:", e);
        }
    }
    checkGlobalBan();

    // 2. AUTH LOGIC
    function handleLogin() {
        if (!auth.currentUser) {
            signInWithPopup(auth, provider).catch(e => alert(e.message));
        } else {
            // Already logged in, open modal instead of logging out
            accountModal.classList.add('active');
        }
    }

    if(headerLoginBtn) headerLoginBtn.addEventListener('click', handleLogin);
    
    if(mobileLoginBtn) mobileLoginBtn.addEventListener('click', () => {
        if (!auth.currentUser) {
            handleLogin();
        } else {
            // Close side menu then open modal
            document.getElementById('sideMenu').classList.remove('open');
            accountModal.classList.add('active');
        }
    });

    if(closeAccountPop) closeAccountPop.onclick = () => accountModal.classList.remove('active');
    
    if(popLogoutBtn) popLogoutBtn.onclick = () => {
        signOut(auth).then(() => {
            accountModal.classList.remove('active');
            location.reload();
        });
    };

    // 3. AUTH STATE LISTENER (UPDATED)
    onAuthStateChanged(auth, user => {
        if (user) {
            // Update Header
            if(headerLoginText) headerLoginText.innerText = "ACCOUNT";
            if(headerUserImg) {
                headerUserImg.src = user.photoURL;
                headerUserImg.style.display = "block";
            }
            // Update Mobile Button
            if(mobileLoginBtn) {
                mobileLoginBtn.innerHTML = '<i class="fas fa-user-circle"></i> Cont';
                // Remove logout red style, keep it neutral
                mobileLoginBtn.classList.remove('logout-mode');
            }

            // Sync User Data to Modal
            onSnapshot(doc(db, "accounts", user.uid), (snap) => {
                if (snap.exists()) {
                    const data = snap.data();
                    document.getElementById('popUserImg').src = data.image || user.photoURL;
                    document.getElementById('popUserName').innerText = data.username || user.displayName;
                    document.getElementById('popUserEmail').innerText = data.email || user.email;
                    document.getElementById('popUserCoins').innerText = data.coins || 0;
                    document.querySelector('.streak-txt').innerText = `Daily Streak: ${data.streak || 0}`;
                }
            });

        } else {
            // Update Header
            if(headerLoginText) headerLoginText.innerText = "LOGIN";
            if(headerUserImg) headerUserImg.style.display = "none";
            
            // Update Mobile Button
            if(mobileLoginBtn) {
                mobileLoginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Autentificare';
                mobileLoginBtn.classList.remove('logout-mode');
            }
        }
    });
  </script>

</body>
</html>
