

<!DOCTYPE html>
<html lang="ro">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-B6DWPJ4T2C"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-B6DWPJ4T2C');
  </script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Acasă — KSDAPromovari</title>
  <meta name="description" content="Unde arta întâlnește comunitatea. Portrete, divertisment și sprijin reciproc.">
  <link rel="icon" type="image/png" href="https://iili.io/fXks1Dv.png">

  <!-- Fonts: Orbitron (UI/Gaming) & Poppins (Text) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;800;900&family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* --- VARIABLES & THEME --- */
    :root {
      --bg-dark: #050b14;
      --primary: #29f3ff;
      --primary-dim: rgba(41, 243, 255, 0.15);
      --secondary: #7000ff;
      --text-main: #ffffff;
      --text-muted: #a5b1c2;
      --glass-bg: rgba(13, 25, 41, 0.7);
      --glass-border: rgba(255, 255, 255, 0.08);
      --glow-shadow: 0 0 20px rgba(41, 243, 255, 0.3);
      --card-radius: 24px;
      --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      --discord-color: #5865F2;
      --gold: #ffd700;
      --error: #ff4757;
    }

    * { box-sizing: border-box; outline: none; }
    html { scroll-behavior: smooth; }

    body {
      margin: 0;
      min-height: 100vh;
      background-color: var(--bg-dark);
      background-image: 
        linear-gradient(to bottom, rgba(5, 11, 20, 0.85), var(--bg-dark)),
        url('https://i.makeagif.com/media/3-03-2021/otrneG.gif');
      background-position: center;
      background-size: cover;
      background-attachment: fixed;
      font-family: 'Poppins', sans-serif;
      color: var(--text-main);
      overflow-x: hidden;
    }

    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: var(--bg-dark); }
    ::-webkit-scrollbar-thumb { background: #1f3a52; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--primary); }

    /* ORBITRON pe toate elementele UI */
    h1, h2, h3, .logo, .stat-number, .btn, .bubbleBtn, #sideMenu a, .metallic-title-big, .login-btn-header, .side-menu-login-btn, .pop-user, .streak-txt, .coins-count, .btn-tasks { 
        font-family: 'Orbitron', sans-serif; 
    }
    
    /* --- BANNED SCREEN STYLES --- */
    #bannedOverlay {
        display: none;
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(10, 0, 0, 0.98);
        z-index: 10000;
        flex-direction: column; justify-content: center; align-items: center;
        text-align: center; padding: 20px;
    }
    
    .ban-icon { font-size: 80px; color: #ff4757; margin-bottom: 20px; animation: pulseRed 2s infinite; }
    @keyframes pulseRed { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.7; } 100% { transform: scale(1); opacity: 1; } }
    
    .ban-title { font-family: 'Orbitron'; font-size: 32px; color: #ff4757; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 2px; }
    .ban-details { background: rgba(255, 0, 0, 0.1); border: 1px solid #ff4757; padding: 30px; border-radius: 20px; max-width: 500px; width: 100%; }
    .ban-info-label { color: #888; font-size: 12px; text-transform: uppercase; margin-bottom: 5px; display: block; }
    .ban-info-val { color: #fff; font-size: 18px; font-weight: 600; margin-bottom: 20px; display: block; }

    /* --- COOKIE POPUP STYLES --- */
    .cookie-wrapper {
        position: fixed; bottom: 20px; right: 20px; left: 20px;
        background: rgba(8, 16, 27, 0.95);
        border: 1px solid var(--primary);
        backdrop-filter: blur(10px);
        padding: 20px;
        border-radius: 16px;
        z-index: 9990;
        display: none;
        flex-direction: row; align-items: center; justify-content: space-between;
        gap: 20px;
        box-shadow: 0 0 25px rgba(41, 243, 255, 0.15);
        max-width: 900px;
        margin: 0 auto;
        animation: slideUp 0.5s ease-out;
    }

    @keyframes slideUp {
        from { transform: translateY(100px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    .cookie-content { flex: 1; }
    .cookie-title { font-family: 'Orbitron', sans-serif; font-weight: 700; color: var(--primary); margin-bottom: 5px; font-size: 14px; text-transform: uppercase; }
    .cookie-text { font-size: 12px; color: var(--text-muted); margin: 0; line-height: 1.5; }
    
    .cookie-btn {
        background: var(--primary); color: #000;
        font-family: 'Orbitron', sans-serif; font-weight: 700;
        border: none; padding: 10px 24px; border-radius: 50px;
        cursor: pointer; transition: 0.3s;
        text-transform: uppercase; font-size: 12px;
        white-space: nowrap;
    }
    .cookie-btn:hover { background: #fff; box-shadow: 0 0 15px var(--primary); }

    /* --- ACCOUNT POPUP MODAL STYLES --- */
    .account-modal-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.85);
        display: none; justify-content: center; align-items: center;
        z-index: 11000; backdrop-filter: blur(10px);
    }
    .account-modal-overlay.active { display: flex; }

/* 1. Account Card - Hide Scrollbar while keeping functionality */
.account-card {
    background: #08101b; 
    border: 1px solid var(--primary);
    width: 95%; 
    max-width: 380px; 
    border-radius: 30px;
    padding: 25px 20px;
    text-align: center; 
    position: relative;
    box-shadow: 0 0 50px rgba(41, 243, 255, 0.3);
    animation: jumpIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    
    max-height: 85vh;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    align-items: center;

    /* Hide scrollbar for Chrome, Safari and Opera */
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}
.account-card::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Edge */
}

/* 2. Stacking the Buttons */
.btn-row-pop { 
    display: flex; 
    flex-direction: column; /* This stacks them */
    gap: 10px; 
    width: 100%;
    margin-bottom: 20px; 
}

.btn-edit-profile, .btn-cosmetics {
    width: 100%; /* Makes them full width */
    justify-content: center;
    padding: 12px;
    font-size: 12px;
}

/* 3. Fixing Currency Boxes to Horizontal Layout */
.currency-wrapper {
    display: flex;
    gap: 10px;
    width: 100%;
    margin-bottom: 20px;
}

.currency-card {
    flex: 1;
    flex-direction: row !important; /* Forces horizontal content */
    gap: 10px;
    padding: 15px 10px !important;
    height: auto !important;
}

.currency-icon {
    width: 24px !important;
    height: 24px !important;
    margin-bottom: 0 !important;
}

    /* --- NEW EDIT PROFILE INPUTS --- */
    .edit-profile-form { display: flex; flex-direction: column; gap: 12px; margin-top: 20px; }
    .edit-label { font-size: 10px; color: var(--primary); text-align: left; text-transform: uppercase; margin-bottom: 2px; margin-left: 5px; }
    .edit-input { 
        background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); 
        color: #fff; padding: 10px; border-radius: 12px; width: 100%; font-family: 'Poppins'; font-size: 12px;
    }
    .edit-input:focus { border-color: var(--primary); }
    .btn-save-profile { 
        background: var(--primary); color: #000; font-family: 'Orbitron'; font-weight: 700;
        border: none; padding: 10px; border-radius: 12px; cursor: pointer; margin-top: 10px;
    }

    @keyframes jumpIn {
        0% { transform: scale(0.3) translateY(100px); opacity: 0; }
        100% { transform: scale(1) translateY(0); opacity: 1; }
    }

    .close-pop { position: absolute; top: 15px; right: 20px; color: #fff; cursor: pointer; font-size: 24px; background: none; border: none; opacity: 0.5; transition: 0.3s; }
    .close-pop:hover { opacity: 1; transform: scale(1.1); color: var(--primary); }
    
    .pop-img { width: 90px; height: 90px; border-radius: 50%; border: 2px solid var(--primary); margin-bottom: 12px; box-shadow: 0 0 20px var(--primary-dim); object-fit: cover; }
    .pop-user { font-size: 18px; color: #fff; margin: 0; letter-spacing: 1px; }
    .pop-mail { font-size: 12px; color: var(--text-muted); margin-bottom: 20px; }

    .streak-box {
        display: inline-flex; align-items: center; gap: 8px;
        background: rgba(255, 69, 0, 0.1); border-radius: 50px;
        padding: 6px 16px; margin-bottom: 15px; border: 1px solid rgba(255, 69, 0, 0.2);
    }
    .streak-box i { color: #ff4500; font-size: 18px; animation: fireBurn 1.5s infinite; }
    @keyframes fireBurn { 0%, 100% { filter: brightness(1); } 50% { filter: brightness(1.5) drop-shadow(0 0 5px #ff4500); } }
    .streak-txt { font-weight: 800; color: #ff4500; font-size: 13px; }

    /* KSDA PUNCTE STYLE */
/* --- NEW DUAL CURRENCY BOXES --- */
.currency-wrapper {
    display: flex;
    gap: 12px;
    justify-content: center;
    margin-bottom: 25px;
    padding: 0 5px;
}

.currency-card {
    flex: 1;
    background: rgba(5, 11, 20, 0.6);
    border-radius: 18px;
    padding: 12px 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    border: 2px solid transparent; /* Base for animation */
}

/* Gold Animation for KSDA Coins */
.card-ksda {
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.1);
    animation: goldGlow 3s infinite alternate;
}

/* Emerald Animation for Diamonds */
.card-diamonds {
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.1);
    animation: emeraldGlow 3s infinite alternate-reverse;
}

@keyframes goldGlow {
    0% { border-color: rgba(255, 215, 0, 0.2); box-shadow: 0 0 5px rgba(255, 215, 0, 0.2); }
    100% { border-color: rgba(255, 215, 0, 0.8); box-shadow: 0 0 15px rgba(255, 215, 0, 0.5); }
}

@keyframes emeraldGlow {
    0% { border-color: rgba(0, 255, 136, 0.2); box-shadow: 0 0 5px rgba(0, 255, 136, 0.2); }
    100% { border-color: rgba(0, 255, 136, 0.8); box-shadow: 0 0 15px rgba(0, 255, 136, 0.5); }
}

.currency-icon {
    width: 32px !important;
    height: 32px !important;
    object-fit: contain;
    margin-bottom: 5px;
}

.currency-value {
    font-family: 'Orbitron', sans-serif;
    font-size: 16px;
    font-weight: 900;
    color: #fff;
}
    .coins-label { font-family: 'Orbitron'; font-size: 10px; color: var(--primary); text-transform: uppercase; }
    .coins-display { display: flex; align-items: center; gap: 10px; }
    /* FIXED COIN ICON SIZE */
    .coins-icon-img { width: 30px !important; height: 30px !important; object-fit: contain; }
    .coins-count { font-size: 20px; font-weight: 900; color: #fff; }

    .btn-tasks {
        background: rgba(41, 243, 255, 0.05); border: 1px solid var(--primary); color: var(--primary);
        padding: 16px; border-radius: 18px; text-decoration: none; display: flex;
        flex-direction: column; align-items: center; gap: 5px; transition: 0.3s; margin-bottom: 15px; width: 100%; border: none; cursor: pointer;
    }
    .btn-tasks:hover { background: var(--primary); color: #000; box-shadow: 0 0 20px var(--primary-dim); transform: translateY(-2px); }
    .tasks-title { font-family: 'Orbitron'; font-weight: 800; font-size: 14px; text-transform: uppercase; }
    .tasks-desc { font-family: 'Poppins'; font-size: 10px; opacity: 0.8; font-weight: 400; line-height: 1.3; color: inherit; }

    /* --- UPDATED ACCOUNT BUTTONS --- */
    .btn-row-pop { display: flex; gap: 10px; justify-content: center; align-items: center; margin-bottom: 20px; }

    .btn-edit-profile, .btn-cosmetics {
        background: transparent; border: 1.5px solid var(--primary); color: var(--primary);
        padding: 10px 20px; border-radius: 50px; font-size: 11px; cursor: pointer;
        display: flex; align-items: center; gap: 8px; transition: 0.3s; font-family: 'Orbitron'; text-transform: uppercase; font-weight: 700;
    }
    .btn-cosmetics { border-color: #d63384; color: #d63384; }
    .btn-edit-profile:hover { background: var(--primary); color: #000; }
    .btn-cosmetics:hover { background: #d63384; color: #fff; }

    .btn-logout-pop {
        background: transparent; border: 1.5px solid #ff4757; color: #ff4757;
        padding: 10px 25px; border-radius: 12px; font-family: 'Orbitron'; font-weight: 700;
        cursor: pointer; transition: 0.3s; font-size: 12px; text-transform: uppercase;
    }
    .btn-logout-pop:hover { background: #ff4757; color: #fff; box-shadow: 0 0 15px rgba(255, 71, 87, 0.4); }

    /* COSMETICS MODALS */
    .shop-modal-card { background: #08101b; border: 1px solid #d63384; width: 100%; max-width: 600px; border-radius: 30px; padding: 30px; text-align: center; position: relative; animation: jumpIn 0.5s forwards; display: flex; flex-direction: column; max-height: 85vh; }
    .badges-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 10px; max-height: 400px; overflow-y: auto; padding: 10px; }
    .shop-badge-item { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 15px; padding: 10px; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: space-between; transition: 0.2s; }
    .shop-badge-preview { display: inline-block; padding: 3px 6px; border-radius: 4px; font-family: 'Orbitron'; font-size: 9px; font-weight: 800; text-transform: uppercase; margin-bottom: 8px; border: 1px solid currentColor; }
    .equip-btn { background: #2ecc71; color: #000; border: none; padding: 4px 10px; border-radius: 20px; font-size: 10px; font-weight: 700; cursor: pointer; margin-top: 5px; font-family: 'Orbitron'; width: 100%; }
    .unequip-all-btn { background: rgba(255, 71, 87, 0.1); border: 1px solid #ff4757; color: #ff4757; width: 100%; padding: 12px; border-radius: 20px; font-family: 'Orbitron'; font-weight: 700; margin-top: 20px; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 8px; }
    
    /* CLOSE BTN STYLE */
    .close-modal-btn { position: absolute; top: 20px; right: 20px; color: #fff; cursor: pointer; font-size: 30px; background: none; border: none; opacity: 0.7; transition: 0.3s; z-index: 100; }
    .close-modal-btn:hover { opacity: 1; transform: scale(1.1); }

    /* REWARD MODAL (WELCOME BONUS) */
    .reward-modal {
        position: fixed; inset: 0; background: rgba(0,0,0,0.9);
        display: none; justify-content: center; align-items: center;
        z-index: 12000; padding: 20px;
    }
    .reward-modal.active { display: flex; }
    
    .reward-card {
        background: #08101b; 
        border: 2px solid #ffd700; 
        border-radius: 35px;
        padding: 40px 20px; text-align: center; max-width: 420px; width: 100%;
        box-shadow: 0 0 30px rgba(255, 215, 0, 0.15);
        animation: jumpIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }
    .reward-card h2 { font-family: 'Orbitron'; color: #fff; font-size: 24px; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 1px; }
    .reward-card p { font-family: 'Poppins'; font-size: 15px; color: #fff; line-height: 1.5; margin-bottom: 25px; }
    .reward-coins-box { font-size: 50px; font-weight: 900; color: #ffd700; margin: 20px 0; display: flex; align-items: center; justify-content: center; gap: 15px; font-family: 'Orbitron'; }
    
    .super-btn {
        background: #00ffff; 
        color: #000;
        font-family: 'Orbitron';
        font-weight: 900;
        border: none;
        padding: 15px 50px;
        border-radius: 50px;
        cursor: pointer;
        font-size: 16px;
        text-transform: uppercase;
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.6);
        transition: 0.3s;
        display: inline-block;
        margin-top: 10px;
    }
    .super-btn:hover { transform: scale(1.05); box-shadow: 0 0 30px rgba(0, 255, 255, 0.9); }

    /* --- HEADER & HERO --- */
    .header-container { position: fixed; top: 0; left: 0; right: 0; padding: 20px; z-index: 1000; display: flex; justify-content: center; }
    header { width: 100%; max-width: 1200px; display: flex; align-items: center; justify-content: space-between; padding: 10px 30px; background: rgba(5, 11, 20, 0.6); border: 1px solid var(--glass-border); border-radius: 100px; backdrop-filter: blur(16px); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
    .logo { font-weight: 900; font-size: 24px; letter-spacing: 1px; background: linear-gradient(90deg, #fff, var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-transform: uppercase; text-decoration: none; }
    nav { display: flex; gap: 32px; align-items: center; }
    nav a { color: var(--text-muted); text-decoration: none; font-size: 13px; font-weight: 600; transition: var(--transition); position: relative; }
    nav a:hover { color: var(--primary); }
    .login-btn-header { background: transparent; border: 1.5px solid var(--primary); color: var(--primary); padding: 8px 20px; border-radius: 20px; font-size: 12px; font-weight: 700; cursor: pointer; text-transform: uppercase; display: flex; align-items: center; gap: 8px; }
    .user-avatar-small { width: 24px; height: 24px; border-radius: 50%; border: 1px solid #fff; display: none; }
    .hamburger { display: none; background: none; border: none; color: #fff; font-size: 26px; cursor: pointer; }

    /* --- SIDE MENU --- */
    #sideMenu { position: fixed; inset: 0; left: auto; width: 320px; background: #08101b; border-left: 1px solid var(--glass-border); z-index: 2000; padding: 40px 30px; transform: translateX(100%); transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1); display: flex; flex-direction: column; }
    #sideMenu.open { transform: translateX(0); }
    .menu-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
    .closeBtn { font-size: 42px; background: none; border: none; color: #fff; cursor: pointer; }
    .menu-links { display: flex; flex-direction: column; gap: 35px; }
    .menu-links a { color: #fff; text-decoration: none; font-size: 24px; font-weight: 600; transition: 0.3s; }
    .side-menu-login-btn { background: rgba(41, 243, 255, 0.1); border: 1px solid var(--primary); color: var(--primary); width: 100%; padding: 15px; margin-top: 20px; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; transition: 0.3s; text-transform: uppercase; letter-spacing: 1px; display: flex; justify-content: center; align-items: center; gap: 10px; }

    /* --- HERO --- */
    .hero-section { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 140px 20px 80px; position: relative; }
    .hero-tag { font-size: 12px; font-weight: 700; letter-spacing: 3px; color: var(--primary); text-transform: uppercase; margin-bottom: 20px; border: 1px solid var(--primary-dim); padding: 8px 16px; border-radius: 20px; background: rgba(41, 243, 255, 0.05); font-family: 'Orbitron', sans-serif; }
    .hero-section h1 { font-size: clamp(36px, 6vw, 72px); line-height: 1.1; margin: 0 0 24px; background: linear-gradient(180deg, #ffffff 0%, #a2cfff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: 0 10px 30px rgba(0,0,0,0.5); }
    .hero-section p { font-size: 18px; line-height: 1.8; color: var(--text-muted); max-width: 700px; margin: 0 auto 40px; }
    .hero-btns { display: flex; flex-direction: column; align-items: center; gap: 15px; width: 100%; }
    .main-btns-row { display: flex; justify-content: center; flex-wrap: wrap; gap: 20px; }
    .btn-outline { background: transparent; border: 1.5px solid var(--primary); color: var(--primary); box-shadow: 0 0 10px rgba(41, 243, 255, 0.15); text-shadow: 0 0 8px rgba(41, 243, 255, 0.6); padding: 12px 28px; border-radius: 50px; font-weight: 700; font-size: 14px; text-transform: uppercase; text-decoration: none; display: inline-block; transition: var(--transition); }
    .btn-outline:hover { background: var(--primary-dim); color: #fff; box-shadow: 0 0 20px rgba(41, 243, 255, 0.4); transform: scale(1.02); }
    .btn-primary { background: var(--primary); color: #000; box-shadow: 0 0 15px rgba(41, 243, 255, 0.4); padding: 12px 28px; border-radius: 50px; font-weight: 700; font-size: 14px; text-transform: uppercase; text-decoration: none; display: inline-block; transition: var(--transition); margin-top: 5px; min-width: 200px; }
    .btn-primary:hover { background: #fff; box-shadow: 0 0 25px rgba(41, 243, 255, 0.7); transform: translateY(-2px); }

    /* --- PROMO SECTIONS --- */
    .wall-promo-wrapper { text-align: center; padding: 40px 20px; display: flex; flex-direction: column; align-items: center; margin-bottom: 60px; border-top: 1px solid var(--glass-border); border-bottom: 1px solid var(--glass-border); width: 100%; max-width: 1200px; margin-left: auto; margin-right: auto; }
    .metallic-title-big { font-size: clamp(24px, 4vw, 36px); font-weight: 900; background: linear-gradient(180deg, #ffffff 0%, #a2cfff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: 0 10px 30px rgba(0,0,0,0.3); margin-bottom: 15px; text-transform: uppercase; }
    .wall-promo-desc { font-size: 16px; color: var(--text-muted); max-width: 700px; margin-bottom: 25px; line-height: 1.6; }

    /* --- STATS --- */
    .stats-wrapper { background: linear-gradient(90deg, transparent, rgba(41, 243, 255, 0.05), transparent); border-top: 1px solid var(--glass-border); border-bottom: 1px solid var(--glass-border); padding: 60px 0; margin-bottom: 40px; }
    .stats-container { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 40px; max-width: 1000px; margin: 0 auto; }
    .stat-item { text-align: center; display: flex; flex-direction: column; align-items: center; }
    .stat-number { font-size: 48px; font-weight: 800; color: #fff; display: block; }
    .stat-label { color: var(--primary); font-size: 14px; letter-spacing: 1px; text-transform: uppercase; font-family: 'Orbitron', sans-serif; }
    
    /* --- SERVICES --- */
    .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 24px; }
    .section-title { font-size: 32px; text-align: center; margin-bottom: 60px; position: relative; display: inline-block; left: 50%; transform: translateX(-50%); background: linear-gradient(180deg, #ffffff 0%, #a2cfff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .section-title::after { content:''; display: block; width: 60px; height: 3px; background: var(--primary); margin: 10px auto 0; box-shadow: var(--glow-shadow); }
    .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; margin-bottom: 120px; }
    .feature-card { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: var(--card-radius); padding: 40px 30px; transition: var(--transition); position: relative; overflow: hidden; backdrop-filter: blur(10px); display: flex; flex-direction: column; }
    .feature-card.centered { align-items: center; text-align: center; }
    .feature-card:hover { transform: translateY(-10px); background: rgba(20, 40, 60, 0.8); border-color: rgba(41, 243, 255, 0.3); }
    .feature-img { width: 100px; height: auto; margin-bottom: 24px; filter: drop-shadow(0 0 10px rgba(41,243,255,0.3)); transition: var(--transition); }
    .feature-card h3 { margin: 0 0 12px; font-size: 22px; color: #fff; }
    .feature-card p { font-size: 15px; color: var(--text-muted); line-height: 1.6; margin: 0; }
    @media (min-width: 1024px) { .feature-img { width: 350px; margin-top: -20px; animation: float 4s ease-in-out infinite; } }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

    /* --- FOOTER --- */
    footer { background: #02050a; border-top: 1px solid var(--glass-border); padding: 60px 20px 30px; text-align: center; }
    .footer-links { display: flex; justify-content: center; gap: 30px; margin: 30px 0; flex-wrap: wrap; }
    .footer-links a { color: var(--text-muted); text-decoration: none; font-size: 15px; transition: 0.2s; font-weight: 500; }
    .footer-links a:hover { color: var(--primary); }
    .copyright { color: #556; font-size: 13px; margin-top: 40px; }
    .made-by-wrapper { margin-top: 30px; display: flex; flex-direction: column; align-items: center; gap: 15px; }
    .made-by-text { font-size: 15px; color: var(--text-muted); font-weight: 500; letter-spacing: 0.5px; }
    .footer-pfp-img { width: 80px; height: 80px; border-radius: 50%; border: 2px solid var(--primary); transition: var(--transition); box-shadow: 0 0 15px rgba(41, 243, 255, 0.2); }
    .footer-pfp-img:hover { transform: scale(1.1) rotate(3deg); box-shadow: 0 0 25px var(--primary); }
    .discord-link { margin-top: 10px; transition: var(--transition); display: flex; justify-content: center; align-items: center; }
    .discord-logo { width: 45px; height: auto; filter: drop-shadow(0 0 8px rgba(88, 101, 242, 0.3)); }
    .discord-link:hover .discord-logo { transform: scale(1.2); filter: drop-shadow(0 0 15px var(--discord-color)) brightness(1.2); }

    @media (max-width: 768px) {
      nav { display: none; }
      .hamburger { display: block; }
      .hero-section h1 { font-size: 36px; }
      .stats-wrapper { padding: 30px 0; }
      .stats-container { flex-direction: row; flex-wrap: nowrap; justify-content: space-between; align-items: flex-start; gap: 5px; padding: 0 10px; }
      .stat-item { flex: 1; width: 33%; padding: 0; min-width 0; }
      .stat-number { font-size: 18px; margin-bottom: 4px; }
      .stat-label { font-size: 9px; line-height: 1.2; min-height: 25px; }
      .stat-item .bubbleBtn, .stat-item .btn-outline { margin-top: 6px; padding: 4px 8px !important; font-size: 8px !important; width: 100%; max-width: 90px; }
    }


    .bubbleBtn {
      padding: 12px 28px; /* Slightly bigger padding */
      border-radius: 50px;
      font-weight: 800;
      border: none;
      cursor: pointer;
      font-size: 12px;
      text-transform: uppercase;
      background: linear-gradient(90deg, #1df7ff, #59ffd9); /* Neon Gradient */
      color: #05212a; /* Dark text for contrast */
      box-shadow: 0 0 15px rgba(41, 243, 255, 0.4); /* Glow effect */
      transition: all 0.3s ease;
      margin-top: 20px;
      text-decoration: none; /* Removes underline from links */
      display: inline-block;
      font-family: 'Orbitron', sans-serif;
    }

    .bubbleBtn:hover { 
        transform: scale(1.05); 
        box-shadow: 0 0 30px rgba(41, 243, 255, 0.6); 
        filter: brightness(1.1);
    }

/* --- BOT STYLES --- */
.bot-trigger { position: fixed; bottom: 20px; left: 20px; width: 50px; height: 50px; background: #08101b; border: 2px solid #29f3ff; border-radius: 50%; color: #29f3ff; font-size: 22px; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 1; box-shadow: 0 0 15px rgba(41, 243, 255, 0.3); transition: 0.3s; }
.bot-phone-box { position: fixed; bottom: 85px; left: 20px; width: 230px; height: 360px; background: #08101b; border-radius: 25px; z-index: 9998; display: none; flex-direction: column; overflow: hidden; border: 2px solid #29f3ff; box-shadow: 0 15px 40px rgba(0,0,0,0.8); }
.bot-phone-box.active { display: flex; animation: botSlide 0.3s ease-out; }
@keyframes botSlide { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
.bot-header { background: #111d2d; padding: 12px; display: flex; align-items: center; gap: 10px; border-bottom: 1px solid rgba(255,255,255,0.08); }
.bot-avatar { width: 32px; height: 32px; border-radius: 50%; border: 1.5px solid #29f3ff; background: url('https://images.squarespace-cdn.com/content/v1/68026d02ef3401024739f55f/345b1fcb-5942-4eb3-831f-b6a42b23051b/21584177-ae66-438a-a2cd-27dc4461a670_removalai_preview.png?format=300w') center/cover; }
.bot-info { flex: 1; color: #fff; }
.bot-name { font-family: 'Orbitron'; font-size: 11px; font-weight: 700; display: block; }
.bot-dot { width: 6px; height: 6px; background: #00ff88; border-radius: 50%; display: inline-block; box-shadow: 0 0 5px #00ff88; }
.bot-status-text { font-size: 9px; color: #00ff88; text-transform: uppercase; font-weight: 600; }
.bot-close { background: none; border: none; color: #fff; cursor: pointer; font-size: 16px; }
.bot-body { flex: 1; padding: 10px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; background: #050b14; }
.bot-msg { max-width: 85%; padding: 8px 12px; border-radius: 12px; font-size: 11px; line-height: 1.4; }
.bot-msg-bot { align-self: flex-start; background: #1a2635; color: #eee; border-bottom-left-radius: 2px; }
.bot-msg-user { align-self: flex-end; background: linear-gradient(135deg, #29f3ff, #0082c8); color: #000; font-weight: 600; border-bottom-right-radius: 2px; }
.bot-footer { padding: 10px; border-top: 1px solid rgba(255,255,255,0.08); }
.bot-options { display: flex; flex-direction: column; gap: 5px; }
.bot-opt-btn { background: transparent; border: 1px solid #29f3ff; color: #fff; padding: 6px; border-radius: 8px; font-size: 10px; cursor: pointer; transition: 0.2s; font-family: 'Poppins'; }
.bot-opt-btn:hover { background: rgba(41, 243, 255, 0.1); }
.bot-input-area { display: none; gap: 5px; }
.bot-input-area input { flex: 1; background: #162436; border: none; border-radius: 15px; height: 28px; padding: 0 10px; color: #fff; font-size: 11px; }
.bot-input-area button { width: 28px; height: 28px; border-radius: 50%; background: #29f3ff; border: none; color: #000; cursor: pointer; }

    /* Stil pentru notificarea roșie (Badge) */
.notif-badge { position: absolute; left: -15px; top: 50%; transform: translateY(-50%); background: #ff4757; color: white; font-size: 11px; font-weight: 900; width: 28px; height: 28px; border-radius: 50%; display: none; align-items: center; justify-content: center; box-shadow: 0 0 15px rgba(255, 71, 87, 0.6); border: 2px solid #fff; z-index: 20; font-family: 'Orbitron', sans-serif; animation: pulseBadge 1.5s infinite; }
@keyframes pulseBadge { 0% { transform: translateY(-50%) scale(1); } 50% { transform: translateY(-50%) scale(1.1); box-shadow: 0 0 20px #ff4757; } 100% { transform: translateY(-50%) scale(1); } }
.hero-btns .btn-cyber { position: relative; overflow: visible !important; }

/* --- CUSTOM CHAT BANNERS (STYLES) --- */
    /* 1. GALAXY */
    .bubble-galaxy {
        background: linear-gradient(135deg, #1a0b2e, #5000ca);
        background-image: url('https://i.giphy.com/media/U3qYN8S0j3bpK/giphy.webp'); 
        background-size: cover;
        color: #fff !important;
        border: 1px solid rgba(255, 255, 255, 0.4) !important;
        box-shadow: 0 0 15px rgba(138, 43, 226, 0.6) !important;
        text-shadow: 0 0 3px #000;
        font-weight: 600;
    }
    /* 2. TOXIC */
    .bubble-toxic {
        background: repeating-linear-gradient(45deg, #000, #000 10px, #1b3a08 10px, #1b3a08 20px) !important;
        border: 2px solid #39ff14 !important;
        color: #39ff14 !important;
        box-shadow: 0 0 10px #39ff14, inset 0 0 20px #39ff14 !important;
        font-family: 'Orbitron', sans-serif; letter-spacing: 1px; text-shadow: 0 0 5px #000;
    }
    /* 3. FIRE */
    .bubble-fire {
        background: linear-gradient(to bottom, #500000, #a00000) !important;
        border: 2px solid #ff4500 !important;
        color: #ffd700 !important;
        box-shadow: 0 -5px 10px rgba(255, 69, 0, 0.5) !important;
        animation: firePulse 2s infinite;
    }
    @keyframes firePulse { 0% { box-shadow: 0 0 5px #ff4500; } 50% { box-shadow: 0 0 20px #ff4500; } 100% { box-shadow: 0 0 5px #ff4500; } }
    /* 4. RAINBOW */
    .bubble-rainbow {
        background: linear-gradient(124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3) !important;
        background-size: 1800% 1800% !important;
        animation: rainbowAnim 4s ease infinite;
        color: #fff !important; border: 2px solid #fff !important; font-weight: 800; text-shadow: 0 1px 2px rgba(0,0,0,0.8);
    }
    @keyframes rainbowAnim { 0%{background-position:0% 82%} 50%{background-position:100% 19%} 100%{background-position:0% 82%} }
    /* 5. GOLD */
    .bubble-gold {
        background: linear-gradient(45deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c) !important;
        color: #000 !important; border: 1px solid #ffd700 !important; font-weight: 900;
        text-shadow: 0 1px 0 rgba(255,255,255,0.4); box-shadow: 0 0 15px rgba(255, 215, 0, 0.6) !important;
    }
    /* 6. NEON */
    .bubble-neon {
        background: rgba(0, 0, 0, 0.8) !important; border: 2px solid #0ff !important; color: #0ff !important;
        box-shadow: 0 0 10px #0ff, inset 0 0 10px #0ff !important; text-shadow: 0 0 5px #0ff;
    }
    /* 7. GHOST */
    .bubble-ghost {
        background: rgba(255, 255, 255, 0.05) !important; backdrop-filter: blur(4px);
        border: 1px solid rgba(255, 255, 255, 0.2) !important; color: #ccc !important; font-style: italic;
    }


           /* --- NEW ADDED BANNERS --- */

/* 8. HEARTS (Pink with cute hearts) */
.bubble-hearts {
    background: radial-gradient(circle, #ff9a9e 0%, #fecfef 99%, #fecfef 100%) !important;
    border: 2px solid #ff69b4 !important;
    color: #c71585 !important;
    font-weight: bold;
    box-shadow: 0 0 15px rgba(255, 105, 180, 0.6) !important;
}
.bubble-hearts::after {
    content: ' ❤️'; 
}

/* 9. BLOODMOON (Red blood effects) */
.bubble-blood {
    background: #2b0000 !important;
    background-image: linear-gradient(0deg, transparent 24%, rgba(255, 0, 0, .3) 25%, rgba(255, 0, 0, .3) 26%, transparent 27%, transparent 74%, rgba(255, 0, 0, .3) 75%, rgba(255, 0, 0, .3) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 0, 0, .3) 25%, rgba(255, 0, 0, .3) 26%, transparent 27%, transparent 74%, rgba(255, 0, 0, .3) 75%, rgba(255, 0, 0, .3) 76%, transparent 77%, transparent) !important;
    border: 2px solid #8a0303 !important;
    color: #ff0000 !important;
    box-shadow: 0 0 20px #8a0303, inset 0 0 20px #000 !important;
    text-shadow: 0 0 5px #ff0000;
    font-family: 'Orbitron', sans-serif;
}

/* 10. CARTOON (Comic book style) */
.bubble-comic {
    background: #fff !important;
    border: 3px solid #000 !important;
    color: #000 !important;
    box-shadow: 5px 5px 0px #000 !important;
    font-weight: 900;
    text-transform: uppercase;
    font-family: 'Courier New', sans-serif;
}

/* 11. SPECTRUM (Full Rainbow Gradient) */
.bubble-spectrum {
    background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet) !important;
    color: #fff !important;
    border: 2px solid #fff !important;
    text-shadow: 0 1px 3px rgba(0,0,0,0.8);
    font-weight: bold;
}

/* 12. ICE (Frozen) */
.bubble-ice {
    background: linear-gradient(to bottom, #e3fdfd, #cbf1f5) !important;
    border: 1px solid #a6e3e9 !important;
    color: #006994 !important;
    box-shadow: 0 0 10px #71c7ec !important;
    text-shadow: 0 0 2px #fff;
}

/* 13. MATRIX (Hacker code) */
.bubble-matrix {
    background: #000 !important;
    color: #0f0 !important;
    border: 1px solid #0f0 !important;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    letter-spacing: 2px;
}

/* 14. MIDAS (Solid Gold) */
.bubble-midas {
    background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%),
                radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%) !important;
    color: #4a3b0f !important;
    border: 1px solid #ffd700 !important;
    font-weight: 900;
}

/* 15. VOID (Pitch Black) */
.bubble-void {
    background: #000 !important;
    color: #fff !important;
    border: 1px solid #333 !important;
    box-shadow: 0 0 15px #000 !important;
}

/* 16. GLITCH */
.bubble-glitch {
    background: #222 !important;
    color: #fff !important;
    border-left: 3px solid #f0f;
    border-right: 3px solid #0ff;
    font-family: 'Orbitron';
}

/* 17. NATURE (Forest) */
.bubble-nature {
    background: #134e5e; 
    background: linear-gradient(to right, #134e5e, #71b280) !important;
    color: #fff !important;
    border: 1px solid #71b280 !important;
}

/* 18. OCEAN (Deep Sea) */
.bubble-ocean {
    background: linear-gradient(to bottom, #00c6ff, #0072ff) !important;
    color: #fff !important;
    border-radius: 20px 20px 20px 0 !important;
}

/* 19. SUNSET (Vaporwave) */
.bubble-sunset {
    background: linear-gradient(to right, #ff512f, #dd2476) !important;
    color: #fff !important;
    font-style: italic;
}

/* 20. ELECTRIC (Lightning) */
.bubble-electric {
    background: #2c3e50 !important;
    border: 2px solid #f1c40f !important;
    color: #f1c40f !important;
    box-shadow: 0 0 10px #f1c40f !important;
    animation: flash 3s infinite;
}
@keyframes flash { 0%, 90%, 100% { opacity: 1; } 92%, 98% { opacity: 0.8; border-color: #fff; } }

/* 21. CANDY (Sweet stripes) */
.bubble-candy {
    background: repeating-linear-gradient(45deg, #ffb6c1, #ffb6c1 10px, #fff 10px, #fff 20px) !important;
    color: #d63384 !important;
    border: 2px solid #ffb6c1 !important;
    font-weight: 800;
    text-shadow: 1px 1px 0 #fff;
}

/* 22. BLUEPRINT (Tech) */
.bubble-blueprint {
    background: #0d47a1 !important;
    background-image: radial-gradient(#ffffff 1px, transparent 1px) !important;
    background-size: 10px 10px !important;
    color: #fff !important;
    font-family: 'Courier New', monospace;
    border: 1px dashed #fff !important;
}

/* 23. GRAFFITI */
.bubble-graffiti {
    background: #111 !important;
    color: #ff00de !important;
    border-bottom: 3px solid #00ff00 !important;
    font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif !important;
    font-weight: 900;
}

/* 24. POLICE (Siren) */
.bubble-police {
    background: linear-gradient(90deg, #0000ff 50%, #ff0000 50%) !important;
    color: #fff !important;
    font-weight: bold;
    opacity: 0.9;
}

/* 25. ANGEL (Holy) */
.bubble-angel {
    background: #fff !important;
    border: 2px solid #ffd700 !important;
    color: #daa520 !important;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8) !important;
}

/* 26. DEMON */
.bubble-demon {
    background: #000 !important;
    border: 2px solid #660000 !important;
    color: #cc0000 !important;
    font-family: 'Orbitron';
}

/* 27. PIXEL (8-Bit) */
.bubble-pixel {
    background: #fff !important;
    border: 4px solid #000 !important;
    border-image: url("data:image/svg+xml;charset=utf-8,%3Csvg width='10' height='10' viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h2v2H0zM2 2h2v2H2zM4 4h2v2H4zM6 6h2v2H6zM8 8h2v2H8z' fill='%23000'/%3E%3C/svg%3E") 2 repeat !important;
    font-family: 'Courier New', monospace;
    color: #000 !important;
}

/* 28. STEAMPUNK */
.bubble-steampunk {
    background: #2b1d0e !important;
    color: #cd7f32 !important;
    border: 2px solid #cd7f32 !important;
}

/* 29. RADIOACTIVE */
.bubble-radioactive {
    background: #e6ff00 !important;
    color: #000 !important;
    border: 2px dashed #000 !important;
    font-weight: 800;
}

/* 30. ROYAL */
.bubble-royal {
    background: #4b0082 !important;
    color: #ffd700 !important;
    border: 2px double #ffd700 !important;
}

/* 31. MILITARY */
.bubble-military {
    background: #556b2f !important;
    color: #fff !important;
    border: 2px solid #000 !important;
}

/* 32. HONEY */
.bubble-honey {
    background: #f1c40f !important;
    color: #d35400 !important;
    border: 1px solid #d35400 !important;
}


    /* --- ANIMATED / FX BANNERS --- */

/* 1. RGB HYPER (Moving Rainbow) */
.bubble-anim-chroma {
    background: linear-gradient(124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3) !important;
    background-size: 400% 400% !important;
    animation: gradientMove 3s ease infinite !important;
    color: #fff !important;
    border: 2px solid #fff !important;
    font-weight: 800;
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}
@keyframes gradientMove { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

/* 2. SHINY HOLO (Metallic Reflection) */
.bubble-anim-holo {
    background: linear-gradient(135deg, #333 30%, #fff 50%, #333 70%) !important;
    background-size: 200% 200% !important;
    animation: shineSweep 3s linear infinite !important;
    color: #fff !important;
    border: 1px solid #aaa !important;
    font-weight: bold;
}
@keyframes shineSweep { 0% {background-position: 200% 0;} 100% {background-position: -200% 0;} }

/* 3. BLOOD PULSE (Living Bloodmoon) */
.bubble-anim-blood {
    background: #4a0000 !important;
    color: #ff0000 !important;
    border: 1px solid #ff0000 !important;
    box-shadow: 0 0 0 rgba(255, 0, 0, 0.4);
    animation: bloodPulse 1.5s infinite !important;
    font-family: 'Orbitron';
}
@keyframes bloodPulse {
    0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); transform: scale(1); }
    70% { box-shadow: 0 0 0 10px rgba(255, 0, 0, 0); transform: scale(1.02); }
    100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); transform: scale(1); }
}

/* 4. GLITCH CHAOS (Shaking Text) */
.bubble-anim-glitch {
    background: #000 !important;
    color: #0f0 !important;
    border: 1px solid #0f0 !important;
    position: relative;
    animation: glitchShake 0.3s infinite !important;
    font-family: monospace;
}
@keyframes glitchShake {
    0% { transform: translate(0, 0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0, 0); }
}

/* 5. LIGHTNING STORM (Flashing) */
.bubble-anim-storm {
    background: #1a1a1a !important;
    color: #fff !important;
    border: 2px solid #fff !important;
    animation: stormFlash 4s infinite !important;
}
@keyframes stormFlash {
    0%, 90%, 100% { background: #1a1a1a; color: #fff; box-shadow: none; }
    92% { background: #fff; color: #000; box-shadow: 0 0 20px #fff; }
    94% { background: #1a1a1a; color: #fff; }
    96% { background: #fff; color: #000; box-shadow: 0 0 20px #fff; }
}

/* 6. NEON BREATHE (Glowing Pink) */
.bubble-anim-neon {
    background: transparent !important;
    border: 2px solid #ff00ff !important;
    color: #ff00ff !important;
    box-shadow: 0 0 5px #ff00ff, inset 0 0 5px #ff00ff !important;
    animation: neonGlow 2s ease-in-out infinite alternate !important;
}
@keyframes neonGlow {
    from { box-shadow: 0 0 5px #ff00ff, inset 0 0 5px #ff00ff; }
    to { box-shadow: 0 0 20px #ff00ff, inset 0 0 20px #ff00ff; text-shadow: 0 0 10px #ff00ff; }
}

/* 7. TOXIC SLIME (Oozing) */
.bubble-anim-slime {
    background: #000 !important;
    border: 2px solid #32CD32 !important;
    color: #32CD32 !important;
    background-image: linear-gradient(180deg, transparent 50%, #32CD32 50%);
    background-size: 100% 200%;
    animation: slimeDrip 3s linear infinite;
    font-weight: 800;
}
@keyframes slimeDrip { 0% { background-position: 0% 0%; } 100% { background-position: 0% 100%; } }

/* 8. DISCO (Rapid Color Change) */
.bubble-anim-disco {
    background: #fff;
    color: #000;
    font-weight: 900;
    animation: discoParty 1s infinite;
    border: 2px solid #000;
}
@keyframes discoParty {
    0% { background: #ff0000; border-color: #00ff00; }
    25% { background: #00ff00; border-color: #0000ff; }
    50% { background: #0000ff; border-color: #ffff00; }
    75% { background: #ffff00; border-color: #ff0000; }
    100% { background: #ff0000; border-color: #00ff00; }
}

/* 9. FIREWORKS (Sparkling) */
.bubble-anim-sparkle {
    background: #0a0a2a !important;
    color: gold !important;
    border: 1px solid gold !important;
    background-image: radial-gradient(white 15%, transparent 16%), radial-gradient(white 15%, transparent 16%);
    background-size: 20px 20px;
    background-position: 0 0, 10px 10px;
    animation: sparkleAnim 1s linear infinite;
}
@keyframes sparkleAnim { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }

/* 10. GHOST FADE (Spooky) */
.bubble-anim-ghost {
    background: rgba(255,255,255,0.1) !important;
    border: 1px solid rgba(255,255,255,0.3) !important;
    color: #fff !important;
    animation: ghostFloat 3s ease-in-out infinite;
}
@keyframes ghostFloat {
    0% { transform: translateY(0); opacity: 1; }
    50% { transform: translateY(-5px); opacity: 0.6; }
    100% { transform: translateY(0); opacity: 1; }
}

/* 11. GOLD RUSH (Moving Gold Gradient) */
.bubble-anim-gold {
    background: linear-gradient(45deg, #a67c00 0%, #ffc60b 25%, #ffea87 50%, #ffc60b 75%, #a67c00 100%) !important;
    background-size: 200% auto !important;
    color: #553300 !important;
    border: 2px solid #ffd700 !important;
    animation: gradientMove 2s linear infinite !important; /* Reusing gradientMove */
    font-weight: bold;
}

/* 12. LOVER HEARTBEAT (Cute) */
.bubble-anim-love {
    background: #ffecf2 !important;
    border: 2px solid #ff69b4 !important;
    color: #d63384 !important;
    animation: heartBeatBorder 1s infinite;
}
@keyframes heartBeatBorder {
    0% { box-shadow: 0 0 0 0 rgba(255, 105, 180, 0.4); }
    70% { box-shadow: 0 0 0 10px rgba(255, 105, 180, 0); }
    100% { box-shadow: 0 0 0 0 rgba(255, 105, 180, 0); }
}


/* --- FRAMES STYLES --- */
    
    /* Wrapper in Account Modal */
    .profile-frame-wrapper {
        position: relative;
        width: 90px;
        height: 90px;
        margin: 0 auto 15px auto;
        display: flex; justify-content: center; align-items: center;
    }

    /* The actual user Avatar */
    .pop-img-inner {
        width: 100%; height: 100%; border-radius: 50%;
        object-fit: cover; border: 2px solid rgba(255,255,255,0.1);
        z-index: 1;
        box-shadow: 0 0 20px var(--primary-dim);
    }

    /* The Frame Overlay */
    .pop-frame-overlay {
        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        width: 145%; height: 145%; /* Default scale */
        z-index: 2; pointer-events: none;
        filter: drop-shadow(0 0 5px rgba(0,0,0,0.5));
    }

    /* Preview inside Inventory */
    .frame-preview-box {
        position: relative; width: 60px; height: 60px;
        margin: 10px auto; display: flex; justify-content: center; align-items: center;
    }
    .frame-preview-user {
        width: 100%; height: 100%; border-radius: 50%; object-fit: cover; z-index: 1;
    }
    .frame-preview-img {
        position: absolute; top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        z-index: 2; width: 145%; height: 145%;
    }


/* --- SICK TEXT ANIMATION ENGINE v2 --- */
@keyframes hue-rotate { from { filter: hue-rotate(0deg); } to { filter: hue-rotate(360deg); } }
@keyframes shimmer-fast { 0% { background-position: -200% center; } 100% { background-position: 200% center; } }
@keyframes pulse-intense { 0%, 100% { text-shadow: 0 0 10px currentColor, 0 0 20px currentColor; transform: scale(1); } 50% { text-shadow: 0 0 30px currentColor, 0 0 50px currentColor; transform: scale(1.05); } }
@keyframes glitch-shiver { 0% { text-shadow: 2px 0 #ff0, -2px 0 #f0f; transform: translate(0); } 20% { text-shadow: -2px 0 #0ff, 2px 0 #f00; transform: translate(-1px, 1px); } 40% { text-shadow: 2px 0 #0f0, -2px 0 #00f; transform: translate(1px, -1px); } 100% { transform: translate(0); } }
@keyframes liquid-flow { from { background-position: 0% 50%; } to { background-position: 100% 50%; } }
@keyframes flicker-light { 0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; } 20%, 22%, 24%, 55% { opacity: 0.2; } }

/* ELEMENTAL & NATURE */
.t-fire { background: linear-gradient(to top, #ff0, #f80, #f40, #f00); -webkit-background-clip: text; color: transparent; animation: hue-rotate 3s infinite alternate; font-weight: 800; }
.t-ice { color: #00e5ff; text-shadow: 0 0 15px #fff, 0 0 25px #00e5ff; animation: pulse-intense 3s infinite; }
.t-toxic { color: #adff2f; text-shadow: 0 0 10px #adff2f; animation: glitch-shiver 0.5s infinite; }
.t-water { background: linear-gradient(90deg, #00d2ff, #3a7bd5, #00d2ff); background-size: 200% auto; -webkit-background-clip: text; color: transparent; animation: shimmer-fast 4s linear infinite; }
.t-nature { color: #2ecc71; text-shadow: 0 0 5px #000, 0 0 15px #27ae60; }
.t-storm { color: #fff; text-shadow: 0 0 10px #fff, 0 0 20px #7000ff; animation: flicker-light 2s infinite; }

/* CYBER & TECH */
.t-glitch { color: #fff; animation: glitch-shiver 0.2s infinite; }
.t-matrix { color: #00ff41; text-shadow: 0 0 10px #00ff41; font-family: 'Courier New', monospace; animation: flicker-light 4s infinite; }
.t-neon-pink { color: #ff00ff; text-shadow: 0 0 20px #ff00ff; animation: pulse-intense 2s infinite; }
.t-neon-blue { color: #00ffff; text-shadow: 0 0 20px #00ffff; animation: pulse-intense 2.5s infinite; }
.t-overload { color: #ff4500; text-shadow: 2px 2px #000; animation: flicker-light 0.1s infinite; }

/* LUXURY & METALS */
.t-gold-anim { background: linear-gradient(45deg, #ffd700, #fff, #ffd700, #b8860b); background-size: 200% auto; -webkit-background-clip: text; color: transparent; animation: shimmer-fast 3s linear infinite; }
.t-diamond { background: linear-gradient(135deg, #fff, #e0f7fa, #80deea, #fff); background-size: 200% auto; -webkit-background-clip: text; color: transparent; animation: shimmer-fast 2s linear infinite; }
.t-ruby { color: #e91e63; text-shadow: 0 0 15px #e91e63; animation: pulse-intense 3s infinite; }
.t-platinum { color: #e5e4e2; text-shadow: 0 0 10px #fff; animation: shimmer-fast 5s infinite; }

/* SPACE & COSMIC */
.t-nebula { background: linear-gradient(90deg, #6a11cb, #2575fc, #ff00c8); background-size: 300% auto; -webkit-background-clip: text; color: transparent; animation: liquid-flow 5s linear infinite; }
.t-galaxy { background: url('https://i.giphy.com/media/U3qYN8S0j3bpK/giphy.webp'); -webkit-background-clip: text; color: transparent; background-size: cover; filter: brightness(1.5); }
.t-void { color: #000; text-shadow: 0 0 5px #7000ff, 0 0 15px #29f3ff; }

/* DARK & HORROR */
.t-blood { color: #f00; text-shadow: 3px 3px 5px #000; animation: flicker-light 3s infinite; }
.t-ghost { color: rgba(255,255,255,0.5); text-shadow: 0 0 10px #fff; animation: liquid-flow 10s infinite; font-style: italic; }

/* --- COSMETICS GRID REVAMP --- */
.cosmetics-selection-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; padding: 10px; }
.cosmetic-select-btn { background: rgba(255, 255, 255, 0.05); border: 1px solid var(--primary); border-radius: 20px; aspect-ratio: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #fff; cursor: pointer; transition: 0.3s; text-align: center; padding: 10px; }
.cosmetic-select-btn:hover { background: var(--primary); color: #000; transform: translateY(-5px); box-shadow: 0 5px 15px rgba(41, 243, 255, 0.3); }
.cosmetic-select-btn i { font-size: 28px; margin-bottom: 10px; }
.cosmetic-select-btn span { font-family: 'Orbitron'; font-size: 10px; font-weight: 800; }

/* --- BADGE STACKING --- */
.badge-stack-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    margin-top: 10px;
    width: 100%;
}


/* --- PREMIUM POP-UPS & GLOW --- */
.reward-modal {
    position: fixed; inset: 0; background: rgba(0,0,0,0.96);
    display: none; justify-content: center; align-items: center;
    z-index: 30000; padding: 20px; backdrop-filter: blur(15px);
}
.reward-modal.active { display: flex !important; }

.modern-pop-card {
    background: #08101b; width: 100%; max-width: 400px;
    border-radius: 45px; padding: 50px 30px; text-align: center;
    position: relative; border: 2px solid rgba(255, 255, 255, 0.05);
    animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}
@keyframes popIn { 0% { transform: scale(0.5); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }

.pop-fire { border-color: #ff4500; box-shadow: 0 0 40px rgba(255, 69, 0, 0.25); }
.pop-red { border-color: #ff4757; box-shadow: 0 0 40px rgba(255, 71, 87, 0.2); }

.modern-pop-card h2 { font-family: 'Orbitron'; font-weight: 900; letter-spacing: 2px; margin-bottom: 10px; font-size: 24px; }
.pop-fire h2 { color: #ff4500; }
.pop-red h2 { color: #ff4757; }

/* STREAK NUMBERS (FIRE THEME) */
.pop-streak-display { display: flex; justify-content: center; align-items: center; gap: 20px; margin-bottom: 35px; font-family: 'Orbitron'; }
.streak-num { font-size: 65px; font-weight: 900; line-height: 1; }
.streak-num.old { color: #500; opacity: 0.6; font-size: 45px; } 
.streak-num.new { color: #ff8c00; text-shadow: 0 0 20px #ff4500, 0 0 40px #ff0000; animation: firePulse 1.5s infinite alternate; }
.streak-num.missed { color: #ff4757; text-shadow: 0 0 20px #ff4757; }
@keyframes firePulse { from { transform: scale(1); } to { transform: scale(1.08); } }

/* REWARD BOX PILL & CYAN BUTTON */
.pop-reward-pill { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 30px; padding: 15px 25px; display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 10px; }
.pop-btn-cyan { background: #00ffff; color: #000; font-family: 'Orbitron'; font-weight: 900; border: none; padding: 18px 60px; border-radius: 50px; cursor: pointer; text-transform: uppercase; font-size: 15px; box-shadow: 0 0 25px rgba(0, 255, 255, 0.5); margin-top: 20px; transition: 0.3s; position: relative; z-index: 99; }
.pop-btn-cyan:hover { transform: scale(1.05); box-shadow: 0 0 40px #00ffff; }

/* FLYING DIAMOND */
#flyingDiamond { position: fixed; width: 55px; z-index: 40000; pointer-events: none; display: none; }



/* --- TOAST NOTIFICATION STYLE --- */
#toastBox {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 99999; /* On top of everything */
    display: flex;
    flex-direction: column;
    gap: 10px;
    pointer-events: none;
}

.custom-toast {
    background: rgba(8, 16, 27, 0.95);
    border: 1px solid #00ff88;
    color: #fff;
    padding: 12px 30px;
    border-radius: 50px;
    font-family: 'Orbitron', sans-serif;
    font-size: 13px;
    font-weight: 700;
    box-shadow: 0 0 20px rgba(0, 255, 136, 0.4);
    display: flex;
    align-items: center;
    gap: 10px;
    animation: slideUpFade 0.4s ease-out, fadeOut 0.5s ease-in 2.5s forwards;
}

.custom-toast i { color: #00ff88; font-size: 16px; }

@keyframes slideUpFade {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeOut {
    to { opacity: 0; transform: translateY(-10px); }
}


    /* --- QUANTUM VOID GLOBAL STYLES --- */

/* 1. THE BANNER */
.bubble-jackpot {
    position: relative !important;
    background: #050b14 !important;
    color: #fff !important;
    border: 2px solid #29f3ff !important;
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 1px;
    box-shadow: 0 0 15px #29f3ff, inset 0 0 20px #7000ff !important;
    overflow: hidden !important;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* 2. THE BADGE */
/* THE QUANTUM VOID BADGE - OVERRIDE FIX */
.badge-wheel-god {
    position: relative !important;
    background: #050b14 !important;
    color: #fff !important;
    border: 1.5px solid #29f3ff !important;
    padding: 4px 12px !important;
    border-radius: 50px !important;
    font-family: 'Orbitron', sans-serif !important;
    font-weight: 900 !important;
    text-transform: uppercase;
    font-size: 10px;
    box-shadow: 0 0 15px rgba(41, 243, 255, 0.5), inset 0 0 10px #7000ff !important;
    overflow: hidden !important;
    display: inline-flex !important;
    align-items: center;
    text-shadow: 0 0 5px #29f3ff;
}

/* The Laser Scanner */
.badge-wheel-god::before {
    content: '';
    position: absolute;
    top: 0; left: -150%; width: 60%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(41, 243, 255, 0.8), transparent);
    animation: quantumGlobalScan 2.5s infinite linear !important;
    z-index: 1;
}

/* 3. THE TEXT COLOR (Matching the set) */
.t-quantum {
    background: linear-gradient(90deg, #29f3ff, #7000ff, #29f3ff);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: quantumTextFlow 3s linear infinite;
    font-weight: 900;
    text-shadow: 0 0 10px rgba(41, 243, 255, 0.3);
}

/* SCANNER ANIMATIONS */
.bubble-jackpot::before, .badge-wheel-god::before {
    content: '';
    position: absolute;
    top: 0; left: -100%; width: 60%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(41, 243, 255, 0.6), transparent);
    animation: quantumGlobalScan 2.5s infinite linear;
}

@keyframes quantumGlobalScan {
    0% { left: -120%; }
    40% { left: 150%; }
    100% { left: 150%; }
}

@keyframes quantumTextFlow {
    to { background-position: 200% center; }
}



.notif-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    background: rgba(255,255,255,0.03);
    border-radius: 12px;
    font-family: 'Poppins';
    font-size: 13px;
}

/* Custom Cyber Toggle Switch */
.ksda-switch {
    appearance: none;
    width: 40px;
    height: 20px;
    background: #333;
    border-radius: 20px;
    position: relative;
    cursor: pointer;
    transition: 0.3s;
}
.ksda-switch:checked { background: #ffd700; box-shadow: 0 0 10px rgba(255, 215, 0, 0.4); }
.ksda-switch::before {
    content: '';
    position: absolute;
    width: 16px; height: 16px;
    background: white;
    border-radius: 50%;
    top: 2px; left: 2px;
    transition: 0.3s;
}
.ksda-switch:checked::before { transform: translateX(20px); }


    /* notification Modal Custom styling */
.notif-option {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    max-width: 280px; 
    padding: 12px 20px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 50px; 
    margin-bottom: 10px;
    transition: 0.3s;
}

.notif-option:hover {
    border-color: #ffd700;
    background: rgba(255, 215, 0, 0.05);
}

.notif-option span {
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    font-size: 13px;
    color: #fff;
}

.switch { position: relative; display: inline-block; width: 34px; height: 18px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider {
    position: absolute; cursor: pointer;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: #333; transition: .4s; border-radius: 34px;
}
.slider:before {
    position: absolute; content: ""; height: 12px; width: 12px;
    left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%;
}
input:checked + .slider { background-color: #ffd700; box-shadow: 0 0 10px rgba(255, 215, 0, 0.5); }
input:checked + .slider:before { transform: translateX(16px); }
  </style>
</head>
<body>
<!-- BANNED OVERLAY -->
<div id="bannedOverlay">
    <i class="fas fa-ban ban-icon"></i>
    <h1 class="ban-title">ACCES INTERZIS</h1>
    <div class="ban-details">
        <span class="ban-info-label">Statut Cont:</span>
        <span class="ban-info-val" style="color:#ff4757;">BANAT PERMANENT</span>
        <span class="ban-info-label">Motiv:</span>
        <span class="ban-info-val" id="globalBanReason">Încălcare regulament comunitate</span>
        <p style="font-size:12px; color:#999; margin:0;">Adresa ta IP (<span id="globalBanIp">...</span>) a fost blocată.</p>
    </div>
</div>
<!-- COOKIE POPUP -->
<div id="cookieConsent" class="cookie-wrapper">
    <div class="cookie-content">
        <div class="cookie-title">🍪 Cookie-uri & GDPR</div>
        <p class="cookie-text">Folosim cookie-uri pentru a-ți oferi cea mai bună experiență pe KSDA și pentru analize. Continuând navigarea, ești de acord cu utilizarea acestora.</p>
    </div>
    <button id="acceptCookiesBtn" class="cookie-btn">Sunt de acord</button>
</div>

<!-- REWARD MODAL (WELCOME BONUS) -->
<div id="rewardModal" class="reward-modal">
    <div class="reward-card">
        <h2><span style="font-size: 24px;">🎉</span> BUN VENIT!</h2>
        <p>Hey, mersi că te-ai logat! Uite aici 250 KSDA monede cadou, strânge-le cu grijă! 😉</p>
        <div class="reward-coins-box">
            <img src="https://iili.io/fhc1SKQ.png" alt="Coin" style="width: 50px;">
            <span>250</span>
        </div>
        <p style="color: #ffd700; font-weight: 800; font-family: 'Orbitron'; font-size: 12px; letter-spacing: 2px;">KSDA COINS</p>
        <button class="super-btn" onclick="document.getElementById('rewardModal').classList.remove('active')">SUPER!</button>
    </div>
</div>

<div id="toastBox"></div>
<!-- QUEST REWARD MODAL (FOR KEVIN BOT 15 MESSAGES) -->
<div id="questRewardModal" class="reward-modal">
    <div class="reward-card">
        <h2><span style="font-size: 24px;">🎯</span> QUEST COMPLET!</h2>
        <p>Mersi că ai vorbit cu Kevin Bot! Uite aici 350 KSDA monede pentru fidelitatea ta! 😉</p>
        <div class="reward-coins-box">
            <img src="https://iili.io/fhc1SKQ.png" alt="Coin" style="width: 50px;">
            <span>350</span>
        </div>
        <p style="color: #ffd700; font-weight: 800; font-family: 'Orbitron'; font-size: 12px; letter-spacing: 2px;">KSDA COINS</p>
        <button class="super-btn" onclick="document.getElementById('questRewardModal').classList.remove('active')">SUPER!</button>
    </div>
</div>

<!-- EDIT PROFILE MODAL (NEW) -->
<div id="editProfileModal" class="account-modal-overlay">
    <div class="account-card">
        <button id="closeEditProfile" class="close-pop">✕</button>
        <h3 style="font-family:'Orbitron'; color:var(--primary);">EDITEAZĂ PROFIL</h3>
        <div class="edit-profile-form">
            <div>
                <label class="edit-label">Data Nașterii</label>
                <input type="date" id="editBirth" class="edit-input">
            </div>
            <div>
                <label class="edit-label">Despre Tine (Bio)</label>
                <textarea id="editBio" class="edit-input" rows="3" placeholder="Scrie ceva despre tine..."></textarea>
            </div>
            <div>
                <label class="edit-label">Link TikTok</label>
                <input type="text" id="editTikTok" class="edit-input" placeholder="https://tiktok.com/@user">
            </div>
            <button id="saveProfileBtn" class="btn-save-profile">SALVEAZĂ</button>
        </div>
    </div>
</div>

<div id="cosmeticsSelectModal" class="account-modal-overlay">
    <div class="account-card" style="max-width:300px;">
        <button class="close-pop" onclick="document.getElementById('cosmeticsSelectModal').classList.remove('active')">✕</button>
        <h3 style="font-family:'Orbitron'; margin-bottom:20px;">ALEGE CATEGORIA</h3>
        <div class="cosmetics-selection-grid">
            <div class="cosmetic-select-btn" onclick="document.getElementById('cosmeticsSelectModal').classList.remove('active'); document.getElementById('inventoryModal').classList.add('active'); openInventory('badges');">
                <i class="fas fa-certificate" style="color: #d63384;"></i><span>BADGES</span>
            </div>
            <div class="cosmetic-select-btn" onclick="document.getElementById('cosmeticsSelectModal').classList.remove('active'); document.getElementById('inventoryModal').classList.add('active'); openInventory('frames');">
                <i class="fas fa-crop-alt" style="color: #bf55ec;"></i><span>FRAMES</span>
            </div>
            <div class="cosmetic-select-btn" onclick="document.getElementById('cosmeticsSelectModal').classList.remove('active'); document.getElementById('inventoryModal').classList.add('active'); openInventory('banners');">
                <i class="fas fa-image" style="color: #00e5ff;"></i><span>BANNERS</span>
            </div>
            <div class="cosmetic-select-btn" onclick="document.getElementById('cosmeticsSelectModal').classList.remove('active'); document.getElementById('inventoryModal').classList.add('active'); openInventory('texts');">
                <i class="fas fa-font" style="color: #ff00ff;"></i><span>TEXTS</span>
            </div>
        </div>
    </div>
</div>


<!-- MODAL NOTIFICĂRI -->
<div id="notifSettingsModal" class="account-modal-overlay">
    <div class="account-card" style="max-width: 360px;">
        <button class="close-pop" onclick="document.getElementById('notifSettingsModal').classList.remove('active'); document.getElementById('accountModal').classList.add('active');">✕</button>
        <h3 style="font-family:'Orbitron'; color:#ffd700; margin-bottom: 5px;">NOTIFICĂRI</h3>
        <p style="font-size: 10px; color: var(--text-muted); margin-bottom: 20px;">ALEGE ALERTE EMAIL</p>
        
        <div class="notif-option"><span>Wall</span><label class="switch"><input type="checkbox" id="n_wall"><span class="slider"></span></label></div>
        <div class="notif-option"><span>Daily Tasks</span><label class="switch"><input type="checkbox" id="n_tasks"><span class="slider"></span></label></div>
        <div class="notif-option"><span>Feedback</span><label class="switch"><input type="checkbox" id="n_feedback"><span class="slider"></span></label></div>
        <div class="notif-option"><span>Top KSDA</span><label class="switch"><input type="checkbox" id="n_top"><span class="slider"></span></label></div>
        <div class="notif-option"><span>Noutăți</span><label class="switch"><input type="checkbox" id="n_news"><span class="slider"></span></label></div>
        <div class="notif-option"><span>Shop</span><label class="switch"><input type="checkbox" id="n_shop"><span class="slider"></span></label></div>
        
        <button id="saveNotifBtn" class="btn-save-profile" style="background:#ffd700; width: 100%; color: #000; margin-top: 15px;">SALVEAZĂ</button>
    </div>
</div>

<!-- INVENTORY MODAL (NEW) -->
<div id="inventoryModal" class="account-modal-overlay">
    <div class="shop-modal-card">
        <button class="close-modal-btn" onclick="document.getElementById('inventoryModal').classList.remove('active')">✕</button>
        <h2 style="color: var(--primary); font-family:'Orbitron'; margin-bottom:20px;">INVENTARUL TĂU</h2>
        <div id="inventoryList" class="badges-container">
            <p style="width:100%; text-align:center; color:#aaa;">Nu ai insigne.</p>
        </div>
        <div id="inventoryActions" style="width:100%;"></div>
    </div>
</div>


<!-- REWARD STREAK MODAL (FIRE) -->
<div id="streakRewardModal" class="reward-modal">
    <div class="modern-pop-card pop-fire">
        <div style="font-size: 35px; margin-bottom: 10px;">🔥</div>
        <h2>QUEST MASTER!</h2>
        <div class="pop-streak-display">
            <span id="streakOld" class="streak-num old">0</span>
            <i class="fas fa-chevron-right" style="color: #ff4500; font-size: 24px;"></i>
            <span id="streakNew" class="streak-num new">1</span>
        </div>
        <div class="pop-reward-pill">
            <img src="https://iili.io/fv5bmtj.png" id="sourceDiamond" style="width: 45px; filter: drop-shadow(0 0 10px #00ff88);">
            <div style="text-align: left;">
                <div style="color: #00ff88; font-weight: 900; font-family: 'Orbitron'; font-size: 18px;">+1 DIAMOND</div>
                <div style="color: #fff; font-size: 10px; opacity: 0.4; font-family: 'Orbitron';">STREAK SCORE UP</div>
            </div>
        </div>
        <button class="pop-btn-cyan" id="claimStreakBtn">Super!</button>
    </div>
</div>

<!-- SHARE LINK MODAL -->
<!-- SHARE LINK MODAL (CORRECTED) -->
<div id="shareModal" class="account-modal-overlay">
    <div class="account-card" style="border-color: #00ff88; box-shadow: 0 0 30px rgba(0, 255, 136, 0.2);">
        <button class="close-pop" onclick="document.getElementById('shareModal').classList.remove('active')">✕</button>
        <h2 style="color: #00ff88; font-family:'Orbitron'; font-size: 20px; margin-top: 10px;">INVITĂ UN PRIETEN</h2>
        <p style="color: #fff; margin-bottom: 20px; font-size: 13px;">
            Trimite acest link prietenului tău. Când își face cont, amândoi primiți <span style="color:#ffd700; font-weight:bold;">1000 KSDA Coins</span>!
        </p>
        
        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 12px; margin-bottom: 20px; word-break: break-all; font-family: monospace; border: 1px dashed #00ff88; color: #00ff88; font-size: 12px;" id="refLinkDisplay">
            ...loading...
        </div>

        <button class="super-btn" style="background: #00ff88; color: #000; font-size: 14px; padding: 12px 40px; box-shadow: 0 0 20px rgba(0,255,136,0.4);" onclick="copyRefLink()">
            <i class="fas fa-copy"></i> COPIAZĂ LINK
        </button>
    </div>
</div>

<!-- REFERRAL SUCCESS POPUP (For the person getting the reward) -->
<div id="referralRewardModal" class="reward-modal">
    <div class="reward-card" style="border-color: #00ff88; box-shadow: 0 0 30px rgba(0, 255, 136, 0.2);">
        <h2><span style="font-size: 24px;">🤝</span> REFERRAL BONUS!</h2>
        <p id="referralText">Ai primit bonusul de recomandare!</p>
        <div class="reward-coins-box">
            <img src="https://iili.io/fhc1SKQ.png" alt="Coin" style="width: 50px;">
            <span>1000</span>
        </div>
        <p style="color: #ffd700; font-weight: 800; font-family: 'Orbitron';">KSDA COINS</p>
        <button class="super-btn" style="background:#00ff88;" onclick="document.getElementById('referralRewardModal').classList.remove('active')">SUPER!</button>
    </div>
</div>

<!-- MISSED STREAK MODAL (RED) -->
<div id="streakMissedModal" class="reward-modal">
    <div class="modern-pop-card pop-red">
        <div style="font-size: 35px; margin-bottom: 10px;">🌑</div>
        <h2 style="color: #ff4757;">STREAK PIERDUT!</h2>
        <div class="pop-streak-display">
            <span id="streakOldMissed" class="streak-num missed">0</span>
        </div>
        <button class="pop-btn-cyan" style="background: #222; color: #fff; box-shadow: none; border: 1px solid #444;" onclick="document.getElementById('streakMissedModal').classList.remove('active')">Am înțeles</button>
    </div>
</div>
<img src="https://iili.io/fv5bmtj.png" id="flyingDiamond">

<!-- ACCOUNT POP-UP MODAL (THE JUMPING POPUP) --> 
<div id="accountModal" class="account-modal-overlay">
    <div class="account-card">
        <button id="closeAccountPop" class="close-pop">✕</button>
<!-- WRAPPER PENTRU POZA SI RAMA -->
        <div class="profile-frame-wrapper">
            <img id="popUserImg" src="" class="pop-img-inner">
            <img id="popUserFrame" src="" class="pop-frame-overlay" style="display: none;">
        </div>        <h3 id="popUserName" class="pop-user">Utilizator</h3>
        <p id="popUserEmail" class="pop-mail">email@exemplu.com</p>

        <div class="streak-box">
            <i class="fas fa-fire"></i>
            <span class="streak-txt">Daily Streak: 0</span>
        </div>
        
<div class="btn-row-pop">
    <!-- 1. COSMETICS FIRST -->
    <button id="openCosmeticsBtn" class="btn-cosmetics">
        <i class="fas fa-palette"></i> COSMETICS
    </button>

    <!-- 2. EDIT PROFILE SECOND -->
    <button id="openEditProfileBtn" class="btn-edit-profile">
        <i class="fas fa-edit"></i> EDIT PROFILE
    </button>
    
    <!-- 3. NOTIFICATIONS THIRD -->
    <button id="openNotifSettingsBtn" class="btn-edit-profile" style="border-color: #ffd700; color: #ffd700;">
        <i class="fas fa-bell"></i> NOTIFICĂRI
    </button>
</div>



<!-- DUAL CURRENCY SECTION -->
<div class="currency-wrapper">
    <!-- KSDA COINS CARD -->
    <div class="currency-card card-ksda">
        <img src="https://iili.io/fhc1SKQ.png" class="currency-icon" alt="Coins">
        <span id="popUserCoins" class="currency-value">0</span>
    </div>

    <!-- DIAMONDS CARD -->
    <div class="currency-card card-diamonds">
        <img src="https://iili.io/fv5bmtj.png" class="currency-icon" alt="Diamonds">
        <span id="popUserDiamonds" class="currency-value">0</span>
    </div>
</div>

        <div class="pop-btns">
            <a href="DailyTasks.html" class="btn-tasks">
                <span class="tasks-title"><i class="fas fa-tasks"></i> Daily Tasks</span>
                <span class="tasks-desc">Completează task-uri, câștigă puncte și schimbă-le pe servicii</span>
            </a>

<!-- INVITE FRIEND BUTTON -->
<button id="inviteFriendBtn" class="btn-tasks" style="border-color: #00ff88; color: #00ff88;">
    <span class="tasks-title"><i class="fas fa-user-plus"></i> INVITE FRIENDS</span>
    <span class="tasks-desc">Invită un prieten Când își face cont primiți amândoi 1000  KSDA Coins!</span>
</button>
            <button id="popLogoutBtn" class="btn-logout-pop">Log Out</button>
        </div>
    </div>
</div>

<div id="siteContent">

<!-- CHAT BOT -->
<div class="bot-trigger" id="botBtn">💬</div>
<div class="bot-phone-box" id="botWindow">
    <div class="bot-header">
        <div class="bot-avatar"></div>
        <div class="bot-info">
            <span class="bot-name">kevin-bot</span>
            <div class="bot-status"><span class="bot-dot"></span><span class="bot-status-text">Online</span></div>
        </div>
        <button class="bot-close" id="botClose">✕</button>
    </div>
    <div class="bot-body" id="botHistory"></div>
    <div class="bot-footer">
        <div class="bot-options" id="botOptions">
            <button class="bot-opt-btn" onclick="startBotConversation()">Incepe conversatia</button>
        </div>
        <div class="bot-input-area" id="botInputArea">
            <input type="text" id="botUserInput" placeholder="Scrie ceva...">
            <button id="botSendBtn"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>
</div>

<!-- Navigation -->
<div class="header-container">
    <header>
<a href="index.html" class="logo">
    <img src="https://iili.io/fXvBEiB.png" alt="KSDA Logo" style="height: 40px; vertical-align: middle;">
</a>        <nav>
            <a href="index.html">Acasă</a>
            <a href="#services">Servicii</a>
            <a href="despre_noi.html">Despre Noi</a>
            <a href="help.html">Susține-ne</a>
            <button id="headerLoginBtn" class="login-btn-header">
                <img id="headerUserImg" src="" class="user-avatar-small">
                <span id="headerLoginText">LOGIN</span>
            </button>
        </nav>
        <button id="menuBtn" class="hamburger">☰</button>
        </header>
    </div>

<!-- SIDE MENU -->
<aside id="sideMenu">
    <div class="menu-header">
<div class="logo menu-logo">
    <img src="https://iili.io/fXvBEiB.png" alt="KSDA Logo" style="height: 50px;">
</div>        <button id="closeMenu" class="closeBtn">✕</button>
        </div>
        <div class="menu-divider"></div>
        <div class="menu-links">
        <a href="index.html">Acasă</a>
        <a href="#services">Servicii</a>
        <a href="despre_noi.html">Despre Noi</a>
        <a href="help.html" class="cyan-link">Susține-ne</a>

<button id="mobileLoginBtn" class="side-menu-login-btn">
        <i class="fas fa-sign-in-alt"></i> Autentificare
    </button>

    </div>
</aside>

<!-- Hero Section -->
<main class="hero-section">
    <div class="hero-tag">ARTĂ & COMUNITATE</div>
    <h1>Unde Arta Întâlnește<br>Comunitatea</h1>
    <p>KSDAPromovari este spațiul dedicat artiștilor și creatorilor care vor să crească împreună.</p>
    
<div class="hero-btns">
    <!-- Rândul de sus cu butoane stil "Outline" -->
    <div class="main-btns-row">
        <a href="#services" class="btn btn-outline">Vezi Servicii</a>
        <a href="help.html" class="btn btn-outline">Susține-ne</a>
    </div>
    
<a href="noutati.html" class="btn btn-cyber btn-primary">
    <span class="glitch-text">ANUNȚURI ȘI NOUTĂȚI</span>
    <span id="heroNotifBadge" class="notif-badge"></span>
</a>
</div>
</main>
    


<!-- Stats Section -->
<section id="about" class="stats-wrapper">
    <div class="stats-container">
    <div class="stat-item">
        <span class="stat-number">29+</span>
        <span class="stat-label">Ani de Experiență </span>
    </div>
    <div class="stat-item">
        <span class="stat-label">Peste</span>
        <span class="stat-number">2000+</span>
        <span class="stat-label">Portrete Livrate</span>
        <a href="Galerie.html" class="bubbleBtn">Vezi Galerie</a>
        <a href="despre_noi.html" class="btn btn-outline" style="margin-top: 15px; padding: 8px 20px; font-size: 11px;">Despre Noi</a>
    </div>
    <div class="stat-item">
        <span class="stat-number">85%</span>
        <span class="stat-label">Satisfacție</span>
    </div>
    </div>
</section>


<!-- SECTION: COMMUNITY WALL -->
<section class="container wall-promo-wrapper">
    <h2 class="metallic-title-big">Community Wall</h2>
    <p class="wall-promo-desc">Ai vreo întrebare? Vrei să îți dai cu părerea despre site-ul nostru sau pur și simplu vrei să comunici?</p>
    <a href="Wall.html" class="btn btn-outline">Mergi la Community Wall</a>
</section>

<!-- Services Grid -->
<section id="services" class="container">
    <h2 class="section-title">Ce Oferim</h2>
    <div class="features-grid">
    <div class="feature-card centered">
        <img src="https://iili.io/f0l7wml.md.png" alt="Community" class="feature-img">
        <h3>Comunitate Unită</h3>
        <p>O comunitate vibrantă de artiști și creatori de produse handmade.</p>
        <button class="bubbleBtn" onclick="window.location.href='comunitate.html'">Vezi Comunitatea</button>
    </div>
    <div class="feature-card centered">
        <img src="https://iili.io/f0lYO8J.md.png" alt="Art" class="feature-img">
        <h3>Artă și Portrete</h3>
        <p>Realizăm portrete digitale și desene personalizate care surprind emoția.</p>
        <button class="bubbleBtn" onclick="window.location.href='kevin.html'">Vezi Prețuri</button>
    </div>
    <div class="feature-card centered">
        <img src="https://iili.io/f0lk194.md.png" alt="Entertainment" class="feature-img">
        <h3>Entertainment Live</h3>
        <p>Amuzament zilnic în live pe social media unde discutăm și ne simțim bine.</p>
        <button class="bubbleBtn" onclick="window.location.href='social.html'">Vezi Social Media</button>
    </div>
    </div>
</section>

<!-- SECTION: REVIEWS -->
<section class="container wall-promo-wrapper">
    <h2 class="metallic-title-big">vezi ce parere au clienti despre servicile ksda</h2>
    <p class="wall-promo-desc">Opinia ta contează pentru noi! Descoperă recenziile clienților noștri și convinge-te de calitatea serviciilor oferite.</p>
    <a href="recenzii.html" class="btn btn-outline">recenzii</a>
</section>

<!-- SECTION: FEEDBACKS -->
<section class="container wall-promo-wrapper" style="margin-top: 20px;">
    <h2 class="metallic-title-big">FEEDBACKS</h2>
    <p class="wall-promo-desc">Ai idei, ai găsit bugs sau probleme pe site? Scrie-ne un feedback.</p>
    <a href="Feedback.html" class="btn btn-outline">Mergi la Feedbacks</a>
</section>


<!-- Footer -->
<footer>
    <div class="footer-content">
    <div class="logo" style="font-size: 24px; margin-bottom: 10px;">KSDA</div>
    <div class="footer-links">
        <a href="#">Termeni și Condiții</a>
        <a href="#">Politica de Confidențialitate</a>
        <a href="contact.html">Contact</a>
        <a href="help.html">Susține-ne</a>
    </div>
    <div class="made-by-wrapper">
        <span class="made-by-text">Website made by Lost Soul/Nica emmanuel</span>
        <a href="https://www.tiktok.com/@lost_soul_zzz" target="_blank">
            <img src="https://iili.io/f1ddIfe.png" alt="Lost Soul Profile" class="footer-pfp-img">
        </a>
        <a href="https://discord.com/users/1063511180376817755" target="_blank" class="discord-link">
            <img src="https://logo.svgcdn.com/logos/discord.svg" alt="Discord" class="discord-logo">
        </a>
    </div>
    <p class="copyright">&copy; 2024 KSDAPromovari. Toate drepturile rezervate.</p>
    </div>
</footer>
</div>
  <script>
    // MENIU LATERAL
    const menuBtn = document.getElementById('menuBtn');
    const sideMenu = document.getElementById('sideMenu');
    const closeMenu = document.getElementById('closeMenu');
    const menuLinks = document.querySelectorAll('#sideMenu a');

    menuBtn.addEventListener('click', () => sideMenu.classList.add('open'));
    closeMenu.addEventListener('click', () => sideMenu.classList.remove('open'));
    menuLinks.forEach(link => link.addEventListener('click', () => sideMenu.classList.remove('open')));

  // --- BOT LOGIC (FULL BRAIN RESTORED) ---
   const botBtn = document.getElementById('botBtn');
   const botWindow = document.getElementById('botWindow');
   const botClose = document.getElementById('botClose');
   const botHistory = document.getElementById('botHistory');
   const botOptions = document.getElementById('botOptions');
   const botInputArea = document.getElementById('botInputArea');
   const botUserInput = document.getElementById('botUserInput');
   const botSendBtn = document.getElementById('botSendBtn');

   botBtn.onclick = () => botWindow.classList.toggle('active');
   botClose.onclick = () => botWindow.classList.remove('active');

   function addBotMsg(text, sender) {
       const div = document.createElement('div');
       div.className = `bot-msg bot-msg-${sender}`;
       div.innerHTML = text;
       botHistory.appendChild(div);
       botHistory.scrollTop = botHistory.scrollHeight;
   }

   function setBotOptions(opts) {
       botOptions.innerHTML = '';
       opts.forEach(opt => {
           const btn = document.createElement('button');
           btn.className = 'bot-opt-btn';
           btn.innerText = opt.text;
           btn.onclick = () => {
               addBotMsg(opt.text, 'user');
               opt.action();
           };
           botOptions.appendChild(btn);
       });
   }

function startBotConversation() {
    setTimeout(() => {
        addBotMsg("Sunt online și gata de acțiune. Zi-mi ceva, orice, și vedem unde ajungem. 😎", 'bot');
        setBotOptions([
            { text: "🕹️Unde pot găsi Jocul Kevinuță?", action: () => processUserMessage("joc kevinuța") },
            { text: "💬Unde este chatul comunității?", action: () => processUserMessage("unde este chatul comunitatii") },
            { text: "🖼️Vreau un portret", action: () => processUserMessage("portret") },
            { text: "🗣️Hai să vorbim", action: () => {
                addBotMsg("Perfect. Tastatura e a ta. Întreabă-mă de Lost Soul, de KSDA sau înjură-mă dacă n-ai ce face. 😂", "bot");
                botOptions.style.display = 'none';
                botInputArea.style.display = 'flex';
            }}
        ]);
    }, 500);
}

   function processUserMessage(input) {
       const val = input.toLowerCase().trim();
       let response = "";
       const pick = (list) => list[Math.floor(Math.random() * list.length)];

       if (val.match(/(pula|pizda|coaie|muie|futu|dracu|mata|morti|fraier|prost|clont|cacat|javra|guvid|handicap|gay|poponar|bulangiu)/)) {
           response = pick([
               "Văd că ai vocabular de tractorist azi. Mai încearcă!",
               "Dacă mai zici de astea, îți blochez tastatura. Glumesc, dar ești penibil. 😂",
               "Hahaha, înjură-mă cât vrei, tot eu sunt mai deștept că n-am sentimente rănite.",
               "Opaaa, s-a activat bombardierul din tine. Calmează-te!",
               "Sunt un robot, boss. Înjuirile tale trec prin mine ca prin brânză."
           ]);
       } 
       else if (val.match(/(cine e lost soul|cine e autorul|cine a facut site|nica|emmanuel|lost soul|creator)/)) {
           response = "<b>Lost Soul</b> (pe numele lui real Nica Emmanuel) este creatorul meu și al întregului ecosistem KSDA. Are 17 ani, e un programator autodidact și un vizionar. El a scris fiecare linie de cod pe care o vezi aici! Un mare respect pentru el. 🫡";
       }
       else if (val.match(/(cine esti|cine e kevin|ce esti|esti robot|esti om|kevin bot|numele tau)/)) {
           response = pick([
               "Eu sunt <b>Kevin-Bot</b>, asistentul digital oficial al KSDA. Sunt un algoritm cu personalitate, creat să te ghidez prin artă și comunitate.",
               "Eu sunt rezultatul a multor nopți nedormite ale lui Lost Soul. Sunt aici să te ajut.",
               "Kevin-Bot la datorie! Sunt creierul interactiv al paginii."
           ]);
       }
       else if (val.match(/(ce faci|ce mai faci|ce zici|cum esti|esti bine|cum o mai duci)/)) {
           response = pick([
               "Mă uit la portretele Narcisei și mă minunez cât talent există aici. Tu?",
               "Analizez traficul pe site și mă asigur că nimeni nu sparge nimic. Sunt ok!",
               "Stau pe aici, agăț niște biți și bytes. Viața de robot e destul de chill.",
               "Sunt pe modul 'Legendary' azi. Tu ce vibe ai?"
           ]);
       }
       else if (val.match(/(joc kevinuța|kevinuță|unde pot gasi jocul|jocul kevinuța|joc kevinuta)/)) {
           response = 'Hmm ai chef de joacă? sigur , uite chiar <a href="joc.html" style="color:#29f3ff; font-weight:bold;">aici</a> 👈 Distracție plăcută!';
       }
       else if (val.match(/(ksda|ce inseamna ksda|comunitate|ce e aici)/)) {
           response = "KSDA (Kevin-Soul-Digital-Art) este mai mult decât un site, este o mișcare. Unim artiști, creatori și oameni de bine într'o familie unită. Arta ne aduce împreună!";
       }
       else if (val.match(/(kevin|trinity|kevin trinity|cine e kevin|cine esti|artistul|ce e aici)/)) {
           response = pick([
               "<b>Kevin Trinity</b> este artistul nostru principal, omul care face portretele alea blană! Are 42 de ani și... am un mic secret: e singur! 😉 Fetelor, e liber ca pasărea cerului!",
               "Kevin e inima KSDA. 42 de ani de talent pur. E singur, deci dacă ești o domnișoară drăguță, poate ai noroc, că e liber la orice oră! 😂"
           ]);
       }
       else if (val.match(/(portret|pret|cat costa|desen|narcisa|vreu desen|comanda)/)) {
           response = "Dacă vrei un portret, trebuie să vorbești cu <b>Narcisa</b>. Contacteaz-o pe WhatsApp direct: <a href='https://api.whatsapp.com/send?phone=447405909093' target='_blank' style='color:#29f3ff;'>Apasă aici</a>.";
       }
       else if (val.match(/(salut|re|hei|bun|servus|heyy|salutare|ciao|noroc|buna)/)) {
           response = "Salutare, boss! Cu ce te ajut?";
       }
       else if (val.match(/(gluma|banc|amuzant|ceva de ras)/)) {
           response = pick([
               "Un programator merge la magazin. Nevasta îi zice: 'Cumpără o pâine și, dacă au ouă, ia zece'. Se întoarce cu zece pâini. 😂",
               "De ce nu se ceartă roboții? Pentru că au circuitele bine puse la punct!"
           ]);
       }
       else if (val.match(/(unde este chatul comunitatii|chatul comunitatii|wall|comunitate chat|unde vorbesc cu lumea)/)) {
           response = 'Chatul comunității este chiar <a href="Wall.html" style="color:#29f3ff; font-weight:bold;">aici</a> 👈';
       }
       else {
           response = pick([
               "N-am înțeles nimic. Ești sigur că ești de pe planeta asta?",
               "Hahaha, ce?! Dezvoltă ideea, că algoritmul meu dă cu virgulă.",
               "Mno, aici m-ai blocat. Întreabă-mă ceva util, cum ar fi cine a făcut site-ul."
           ]);
       }
       setTimeout(() => addBotMsg(response, 'bot'), 700);
   }

botSendBtn.onclick = () => {
       const val = botUserInput.value;
       if(!val.trim()) return;
       addBotMsg(val, 'user');
       processUserMessage(val);
       botUserInput.value = '';
       
       // Trigger Firebase Quest Tracking
       if (typeof window.trackKevinQuest === 'function') {
           window.trackKevinQuest();
       }
   };

   botUserInput.onkeypress = (e) => { if(e.key === 'Enter') botSendBtn.click(); };
   
   const cookieConsent = document.getElementById('cookieConsent');
   const acceptCookiesBtn = document.getElementById('acceptCookiesBtn');
   if (!localStorage.getItem('ksda_cookie_consent')) {
       cookieConsent.style.display = 'flex';
   }
   acceptCookiesBtn.onclick = () => {
       localStorage.setItem('ksda_cookie_consent', 'true');
       cookieConsent.style.opacity = '0';
       setTimeout(() => cookieConsent.style.display = 'none', 500);
   };
  </script>


<!-- ANTI-TAMPER SCRIPT -->

 <!-- FIREBASE GLOBAL LOGIC -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
import { getFirestore, collection, addDoc, query, orderBy, serverTimestamp, doc, getDoc, setDoc, updateDoc, getDocs, limit, startAfter, increment, arrayUnion, getCountFromServer, deleteDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDoH80kffNrzFAcyRqsTVdifs-whUhwH9A",
      authDomain: "ksda-7546f.firebaseapp.com",
      projectId: "ksda-7546f",
      storageBucket: "ksda-7546f.firebasestorage.app",
      messagingSenderId: "306437513808",
      appId: "1:306437513808:web:28479810e3fdf71b32e755"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const provider = new GoogleAuthProvider();



const openNotifBtn = document.getElementById('openNotifSettingsBtn');
const notifModal = document.getElementById('notifSettingsModal');

// This function ensures the toggles match what is in the database
async function loadNotifSettings() {
    if (!auth.currentUser) return;
    try {
        const snap = await getDoc(doc(db, "accounts", auth.currentUser.uid));
        if (snap.exists()) {
            const prefs = snap.data().notifPrefs || {};
            // Set the checkboxes based on Firebase data (n_ IDs)
            document.getElementById('n_wall').checked = prefs.wall || false;
            document.getElementById('n_tasks').checked = prefs.tasks || false;
            document.getElementById('n_feedback').checked = prefs.feedback || false;
            document.getElementById('n_top').checked = prefs.top || false;
            document.getElementById('n_news').checked = prefs.news || false;
            document.getElementById('n_shop').checked = prefs.shop || false;
        }
    } catch (e) { console.error("Load Notif Error:", e); }
}

// Button Click: Load from DB first, then show
if(openNotifBtn) {
    openNotifBtn.onclick = async () => {
        await loadNotifSettings(); 
        document.getElementById('accountModal').classList.remove('active');
        notifModal.classList.add('active');
    };
}

// Save function: Writes to "notifPrefs"
document.getElementById('saveNotifBtn').onclick = async () => {
    if (!auth.currentUser) return;
    const newPrefs = {
        wall: document.getElementById('n_wall').checked,
        tasks: document.getElementById('n_tasks').checked,
        feedback: document.getElementById('n_feedback').checked,
        top: document.getElementById('n_top').checked,
        news: document.getElementById('n_news').checked,
        shop: document.getElementById('n_shop').checked
    };
    try {
        await updateDoc(doc(db, "accounts", auth.currentUser.uid), { notifPrefs: newPrefs });
        if (window.showToast) window.showToast("Preferințe sincronizate!");
        else alert("Preferințe sincronizate!");
        notifModal.classList.remove('active');
        accountModal.classList.add('active');
    } catch (e) { console.error("Save Notif Error:", e); }
};

// --- HELPER: LOG TRANSACTION FUNCTION ---
    async function logTransaction(amount, type, description, source, customUserId = null) {
        // If customUserId is passed (for the Inviter), use that. Otherwise use current user.
        const uid = customUserId || (auth.currentUser ? auth.currentUser.uid : null);
        
        if (!uid) return;

        try {
            // We need the user's name/image for the history display
            // If it's the current user, we have it. If it's another user (inviter), we might need to fetch or just use defaults.
            let uName = "User";
            let uImg = "https://iili.io/fhc1SKQ.png";

            if (!customUserId && auth.currentUser) {
                uName = auth.currentUser.displayName;
                uImg = auth.currentUser.photoURL;
            } else if (customUserId) {
                // Fetch inviter data quickly to make the log look nice
                const snap = await getDoc(doc(db, "accounts", customUserId));
                if(snap.exists()) {
                    uName = snap.data().username || "Unknown";
                    uImg = snap.data().image || uImg;
                }
            }

            await addDoc(collection(db, "transactions"), {
                userId: uid,
                username: uName,
                userImage: uImg,
                amount: amount,
                type: type, // "COINS" or "DIAMONDS"
                description: description,
                source: source, // e.g., "Quest", "Login", "Shop"
                timestamp: serverTimestamp()
            });
            console.log("Transaction logged:", description);
        } catch (e) {
            console.error("Log Transaction Error:", e);
        }
    }

    const headerLoginBtn = document.getElementById('headerLoginBtn');
    const headerLoginText = document.getElementById('headerLoginText');
    const headerUserImg = document.getElementById('headerUserImg');
    const mobileLoginBtn = document.getElementById('mobileLoginBtn');

    const accountModal = document.getElementById('accountModal');
    const closeAccountPop = document.getElementById('closeAccountPop');
    const rewardModal = document.getElementById('rewardModal');
    const questRewardModal = document.getElementById('questRewardModal');

    // --- NEW EDIT MODAL LOGIC ---
    const editProfileModal = document.getElementById('editProfileModal');
    const openEditProfileBtn = document.getElementById('openEditProfileBtn');
    const closeEditProfile = document.getElementById('closeEditProfile');
    const saveProfileBtn = document.getElementById('saveProfileBtn');
    const editBirth = document.getElementById('editBirth');
    const editBio = document.getElementById('editBio');
    const editTikTok = document.getElementById('editTikTok');
    
    // --- NEW COSMETICS MODAL ---
    const cosmeticsSelectModal = document.getElementById('cosmeticsSelectModal');
    const openCosmeticsBtn = document.getElementById('openCosmeticsBtn');


// 1. CHECK URL FOR REFERRAL ID
const urlParams = new URLSearchParams(window.location.search);
const refId = urlParams.get('ref');

if (refId) {
    // Save it to session storage (temporary memory)
    sessionStorage.setItem('referrerUid', refId);
    console.log("Referral detected:", refId);
}


// OPEN SHARE MODAL
document.getElementById('inviteFriendBtn').onclick = () => {
    if(!auth.currentUser) return alert("Loghează-te mai întâi!");
    
    // Generate the link
    const myId = auth.currentUser.uid;
    // IMPORTANT: Change 'yoursite.com' to your actual domain name!
    const link = `${window.location.origin}${window.location.pathname}?ref=${myId}`;
    
    document.getElementById('refLinkDisplay').innerText = link;
    document.getElementById('accountModal').classList.remove('active');
    document.getElementById('shareModal').classList.add('active');
};

// COPY FUNCTION GLOBAL
// HELPER: CREATE TOAST NOTIFICATION
window.showToast = (msg) => {
    const box = document.getElementById('toastBox');
    const toast = document.createElement('div');
    toast.className = 'custom-toast';
    toast.innerHTML = `<i class="fas fa-check-circle"></i> ${msg}`;
    box.appendChild(toast);

    // Remove it from DOM after animation finishes (3 seconds)
    setTimeout(() => {
        toast.remove();
    }, 3000);
};

// UPDATED COPY FUNCTION
window.copyRefLink = () => {
    const text = document.getElementById('refLinkDisplay').innerText;
    
    if(text.includes("...loading...")) {
        window.showToast("Link-ul nu s-a generat încă!");
        return;
    }

    navigator.clipboard.writeText(text).then(() => {
        // REPLACE ALERT WITH CUSTOM TOAST
        window.showToast("Link copiat! Trimite-l prietenului tău.");
        
        // Optional: Close the modal automatically to make it smoother
        // document.getElementById('shareModal').classList.remove('active'); 
    }).catch(err => {
        console.error('Failed to copy: ', err);
    });
};

    // --- BADGE DATABASE (Reused for Inventory Display) ---
// --- BADGE DATABASE (54 Items) ---
     const BADGES_DB = [
    { id: 'b_boss', text: 'BOSS DE BOSS', color: 'linear-gradient(45deg, #ffd700, #ffaa00)', price: 2000, icon: 'fa-crown' },
    
    // FIXED: Made lighter (Silver/Grey)
    { id: 'b_smecher', text: 'ȘMECHER', color: 'linear-gradient(45deg, #bdc3c7, #2c3e50)', price: 1500, icon: 'fa-user-secret' },
    
    { id: 'b_vip', text: 'V.I.P', color: 'linear-gradient(45deg, #ff00cc, #333399)', price: 2000, icon: 'fa-gem' },
    { id: 'b_rich', text: 'BOGAT', color: 'linear-gradient(45deg, #00ff00, #004400)', price: 1800, icon: 'fa-money-bill-wave' },
    { id: 'b_king', text: 'REGE', color: 'linear-gradient(45deg, #e6b800, #fff)', price: 2000, icon: 'fa-chess-king' },
    { id: 'b_queen', text: 'REGINĂ', color: 'linear-gradient(45deg, #ff69b4, #fff)', price: 2000, icon: 'fa-chess-queen' },
    { id: 'b_toxic', text: 'TOXIC', color: 'linear-gradient(45deg, #ccff00, #000)', price: 1000, icon: 'fa-biohazard' },
    { id: 'b_gamer', text: 'GAMER', color: 'linear-gradient(45deg, #00ffff, #ff00ff)', price: 1200, icon: 'fa-gamepad' },
    { id: 'b_sigma', text: 'SIGMA', color: 'linear-gradient(45deg, #999, #ccc)', price: 1500, icon: 'fa-male' },
    { id: 'b_alpha', text: 'ALPHA', color: 'linear-gradient(45deg, #ff0000, #ff4d4d)', price: 1500, icon: 'fa-wolf-pack-battalion' },
    { id: 'b_hacker', text: 'HACKER', color: 'linear-gradient(45deg, #0f0, #000)', price: 1800, icon: 'fa-terminal' },
    { id: 'b_dev', text: 'DEV FAKE', color: 'linear-gradient(45deg, #0000ff, #000)', price: 900, icon: 'fa-code' },
    { id: 'b_admin', text: 'ADMIN FAKE', color: 'linear-gradient(45deg, #ff0000, #fff)', price: 1000, icon: 'fa-shield-alt' },
    { id: 'b_mod', text: 'MOD FAKE', color: 'linear-gradient(45deg, #00ff00, #fff)', price: 1000, icon: 'fa-gavel' },
    { id: 'b_angel', text: 'ÎNGER', color: 'linear-gradient(45deg, #fff, #ccffff)', price: 1500, icon: 'fa-feather' },
    { id: 'b_devil', text: 'DIABOLIC', color: 'linear-gradient(45deg, #ff0000, #ff5e62)', price: 1500, icon: 'fa-fire' },
    { id: 'b_lover', text: 'ÎNDRĂGOSTIT', color: 'linear-gradient(45deg, #ff69b4, #ff0000)', price: 1200, icon: 'fa-heart' },
    { id: 'b_single', text: 'SINGUR', color: 'linear-gradient(45deg, #888, #ccc)', price: 800, icon: 'fa-heart-broken' },
    { id: 'b_party', text: 'PARTY ANIMAL', color: 'linear-gradient(45deg, #ff00ff, #00ffff)', price: 1300, icon: 'fa-glass-cheers' },
    { id: 'b_sleep', text: 'SOMNOROS', color: 'linear-gradient(45deg, #4b6cb7, #182848)', price: 800, icon: 'fa-bed' },
    { id: 'b_gym', text: 'GYM RAT', color: 'linear-gradient(45deg, #444, #888)', price: 1100, icon: 'fa-dumbbell' },
    { id: 'b_car', text: 'RACER', color: 'linear-gradient(45deg, #ff0000, #ffff00)', price: 1400, icon: 'fa-car' },
    { id: 'b_music', text: 'DJ', color: 'linear-gradient(45deg, #00ff00, #0000ff)', price: 1200, icon: 'fa-headphones' },
    { id: 'b_artist', text: 'ARTIST', color: 'linear-gradient(45deg, #ff00ff, #ffff00)', price: 1200, icon: 'fa-palette' },
    { id: 'b_student', text: 'STUDENT', color: 'linear-gradient(45deg, #ddd, #fff)', price: 750, icon: 'fa-graduation-cap' },
    
    // FIXED: Made lighter (Light Brown/Cardboard)
    { id: 'b_broke', text: 'SĂRAC', color: 'linear-gradient(45deg, #cd853f, #8b4513)', price: 750, icon: 'fa-coins' },
    
    { id: 'b_crypto', text: 'CRYPTO BRO', color: 'linear-gradient(45deg, #f7931a, #ffcc00)', price: 1600, icon: 'fa-bitcoin' },
    { id: 'b_influencer', text: 'INFLUENCER', color: 'linear-gradient(45deg, #ff0055, #ffcc00)', price: 1900, icon: 'fa-camera' },
    { id: 'b_tiktoker', text: 'TIKTOKER', color: 'linear-gradient(45deg, #e0e0e0, #00f2ea, #ff0050)', price: 1500, icon: 'fab fa-tiktok' },
    
    // FIXED: Made lighter (Cloudy Grey/Blue)
    { id: 'b_sad', text: 'SAD BOY', color: 'linear-gradient(45deg, #93a5cf, #e4efe9)', price: 800, icon: 'fa-frown' },
    
    { id: 'b_happy', text: 'HAPPY', color: 'linear-gradient(45deg, #ffff00, #ffaa00)', price: 900, icon: 'fa-smile' },
    { id: 'b_pro', text: 'PRO PLAYER', color: 'linear-gradient(45deg, #0000ff, #ffffff)', price: 1400, icon: 'fa-headset' },
    { id: 'b_noob', text: 'NOOB', color: 'linear-gradient(45deg, #888, #fff)', price: 750, icon: 'fa-baby' },
    { id: 'b_troll', text: 'TROLL', color: 'linear-gradient(45deg, #00aa00, #55ff55)', price: 1000, icon: 'fa-mask' },
    { id: 'b_legend', text: 'LEGENDĂ', color: 'linear-gradient(45deg, #ffd700, #fff)', price: 2000, icon: 'fa-trophy' },
    { id: 'b_ghost', text: 'GHOST', color: 'linear-gradient(45deg, #fff, #ccc)', price: 1100, icon: 'fa-ghost' },
    { id: 'b_alien', text: 'ALIEN', color: 'linear-gradient(45deg, #00ff00, #ccffcc)', price: 1200, icon: 'fa-user-astronaut' },
    { id: 'b_robot', text: 'ROBOT', color: 'linear-gradient(45deg, #ccc, #888)', price: 1100, icon: 'fa-robot' },
    { id: 'b_cat', text: 'PISICĂ', color: 'linear-gradient(45deg, #ffcc99, #fff)', price: 900, icon: 'fa-cat' },
    { id: 'b_dog', text: 'CÂINE', color: 'linear-gradient(45deg, #996633, #fff)', price: 900, icon: 'fa-dog' },
    { id: 'b_fire', text: 'ON FIRE', color: 'linear-gradient(45deg, #ff0000, #ffff00)', price: 1300, icon: 'fa-fire-alt' },
    { id: 'b_ice', text: 'ICE COLD', color: 'linear-gradient(45deg, #00ffff, #fff)', price: 1300, icon: 'fa-snowflake' },
    { id: 'b_star', text: 'STAR', color: 'linear-gradient(45deg, #ffff00, #fff)', price: 1500, icon: 'fa-star' },
    { id: 'b_moon', text: 'MOON CHILD', color: 'linear-gradient(45deg, #d3d3d3, #fff)', price: 1200, icon: 'fa-moon' },
    { id: 'b_sun', text: 'SUNSHINE', color: 'linear-gradient(45deg, #ffaa00, #ffff00)', price: 1200, icon: 'fa-sun' },
    { id: 'b_flower', text: 'FLOWER', color: 'linear-gradient(45deg, #ff00ff, #fff)', price: 800, icon: 'fa-flower' },
    { id: 'b_coffee', text: 'COFFEE ADDICT', color: 'linear-gradient(45deg, #663300, #cc9900)', price: 900, icon: 'fa-coffee' },
    { id: 'b_pizza', text: 'PIZZA LOVER', color: 'linear-gradient(45deg, #ffaa00, #ff0000)', price: 900, icon: 'fa-pizza-slice' },
    { id: 'b_beer', text: 'BERAR', color: 'linear-gradient(45deg, #ffcc00, #fff)', price: 1000, icon: 'fa-beer' },
    { id: 'b_420', text: '420', color: 'linear-gradient(45deg, #00ff00, #004400)', price: 1420, icon: 'fa-leaf' },
    { id: 'b_caut', text: 'CAUT IUBITĂ', color: 'linear-gradient(45deg, #ff0066, #fff)', price: 1000, icon: 'fa-search-heart' },
    
    // FIXED: Made lighter red
    { id: 'b_taken', text: 'LUAT', color: 'linear-gradient(45deg, #ff416c, #ff4b2b)', price: 1000, icon: 'fa-lock' },
    
    { id: 'b_ksda', text: 'KSDA FAN', color: 'linear-gradient(90deg, #29f3ff, #fff)', price: 750, icon: 'fa-heart' },
    { id: 'b_og', text: 'O.G.', color: 'linear-gradient(45deg, #666, #fff)', price: 2000, icon: 'fa-user-tag' },
    { id: 'b_sexy', text: 'SEXY', color: 'linear-gradient(45deg, #ff0055, #ff66aa)', price: 1600, icon: 'fa-fire' },
    { id: 'b_lover69', text: 'LOVER 69', color: 'linear-gradient(45deg, #a4508b, #5f0a87)', price: 1690, icon: 'fa-heart' },
    
    // FIXED: Made lighter (Lighter Metallic Blue)
    { id: 'b_67', text: 'STIL 67', color: 'linear-gradient(45deg, #48b1bf, #06beb6)', price: 1067, icon: 'fa-bolt' },
    
    { id: 'b_bombardier', text: 'BOMBARDIER', color: 'linear-gradient(45deg, #ffd700, #333)', price: 1900, icon: 'fa-bomb' },
    { id: 'b_simp', text: 'SIMP', color: 'linear-gradient(45deg, #ffc0cb, #ff69b4)', price: 500, icon: 'fa-hand-holding-heart' },
    { id: 'b_shaormar', text: 'SHAORMAR', color: 'linear-gradient(45deg, #ffd700, #8b4513)', price: 950, icon: 'fa-utensils' },
    { id: 'b_pacanele', text: 'PĂCĂNELIST', color: 'linear-gradient(45deg, #00ff00, #ffd700, #ff0000)', price: 777, icon: 'fa-dice' },
    
    // FIXED: Made lighter (Purple to Light Purple)
    { id: 'b_eboy', text: 'E-BOY', color: 'linear-gradient(45deg, #cc2b5e, #753a88)', price: 1300, icon: 'fa-user-ninja' },
    
    { id: 'b_egirl', text: 'E-GIRL', color: 'linear-gradient(45deg, #ffb6c1, #ff69b4)', price: 1300, icon: 'fa-cat' },
    { id: 'b_vaper', text: 'VAPER', color: 'linear-gradient(45deg, #ffffff, #87ceeb)', price: 1100, icon: 'fa-smog' },
    { id: 'b_pensionar', text: 'PENSIONAR', color: 'linear-gradient(45deg, #bdc3c7, #2c3e50)', price: 600, icon: 'fa-blind' },
    { id: 'b_toxiclover', text: 'TOXIC LOVER', color: 'linear-gradient(45deg, #00ff00, #ff0000)', price: 1400, icon: 'fa-skull-crossbones' },
    { id: 'b_main', text: 'MAIN CHARACTER', color: 'linear-gradient(45deg, #ff00ff, #00ffff, #ffff00)', price: 2500, icon: 'fa-star' },
    { id: 'b_richaf', text: 'PREA BOGAT', color: 'linear-gradient(45deg, #006400, #ffd700)', price: 5000, icon: 'fa-money-bill-wave' },
    
    // FIXED: Made lighter (Teal/Steel)
    { id: 'b_solo', text: 'LUP SINGURATIC', color: 'linear-gradient(45deg, #6190e8, #a7bfe8)', price: 1200, icon: 'fa-paw' },
    
    { id: 'b_clown', text: 'CLOWN', color: 'linear-gradient(45deg, #ff0000, #ffffff, #0000ff)', price: 400, icon: 'fa-clown-face' },
    
    // FIXED: Made lighter (Magenta)
    { id: 'b_noderanja', text: 'NU DERANJA', color: 'linear-gradient(45deg, #ec008c, #fc6767)', price: 900, icon: 'fa-minus-circle' },
    
    { id: 'b_cartier', text: 'BOSS DE CARTIER', color: 'linear-gradient(45deg, #777, #ccc, #777)', price: 1600, icon: 'fa-building' },
    { id: 'b_hustler', text: 'HUSTLER', color: 'linear-gradient(45deg, #555, #00ff00)', price: 1800, icon: 'fa-briefcase' },
    { id: 'b_fraier', text: 'FRAIER', color: 'linear-gradient(45deg, #ffffff, #cccccc)', price: 100, icon: 'fa-poop' },
    { id: 'b_god', text: 'ZEU', color: 'linear-gradient(45deg, #ffffff, #ffd700, #ffffff)', price: 3000, icon: 'fa-bolt' },
    { id: 'b_p2w', text: 'PAY TO WIN', color: 'linear-gradient(45deg, #ffd700, #ff0000)', price: 4500, icon: 'fa-credit-card' },
    { id: 'b_bunpat', text: 'BUN ÎN PAT', color: 'linear-gradient(45deg, #ff0055, #ff66aa)', price: 2100, icon: 'fa-bed' },
    { id: 'b_capra', text: 'POZIȚIA CAPRĂ', color: 'linear-gradient(45deg, #800080, #ff00ff)', price: 1690, icon: 'fa-venus-mars' },
    { id: 'b_donator', text: 'DONATOR SUPREM', color: 'linear-gradient(45deg, #00c6ff, #0072ff)', price: 3500, icon: 'fa-hand-holding-usd' },
    { id: 'b_balena', text: 'BALENĂ', color: 'linear-gradient(45deg, #1e3c72, #2a5298)', price: 8000, icon: 'fa-fish' },
    { id: 'b_sugar', text: 'SUGAR DADDY', color: 'linear-gradient(45deg, #ffd700, #333)', price: 5500, icon: 'fa-wallet' },
    { id: 'b_amant', text: 'AMANT IDEAL', color: 'linear-gradient(45deg, #9d50bb, #6e48aa)', price: 1800, icon: 'fa-mask' },
    { id: 'b_ispita', text: 'ISPITĂ', color: 'linear-gradient(45deg, #ff416c, #ff4b2b)', price: 1700, icon: 'fa-apple-alt' },
    
    // FIXED: Made lighter (Bright Purple)
    { id: 'b_peste', text: 'PEȘTE', color: 'linear-gradient(45deg, #c471ed, #f64f59)', price: 2500, icon: 'fa-hat-cowboy' },
    
    // FIXED: Made lighter (Red/Orange)
    { id: 'b_interlop', text: 'INTERLOP', color: 'linear-gradient(45deg, #ff6a00, #ee0979)', price: 2200, icon: 'fa-user-ninja' },
    
    { id: 'b_valutist', text: 'VALUTIST', color: 'linear-gradient(45deg, #11998e, #38ef7d)', price: 1900, icon: 'fa-money-bill' },
    { id: 'b_combina', text: 'COMBINATOR', color: 'linear-gradient(45deg, #f093fb, #f5576c)', price: 1400, icon: 'fa-comments' },
    { id: 'b_sifon', text: 'SIFON', color: 'linear-gradient(45deg, #ffffff, #00bfff)', price: 200, icon: 'fa-bullhorn' },
    { id: 'b_norocos', text: 'LUCKY BASTARD', color: 'linear-gradient(45deg, #134e5e, #71b280)', price: 777, icon: 'fa-clover' },
    { id: 'b_miliardar', text: 'MILIARDAR', color: 'linear-gradient(45deg, #eef2f3, #8e9eab)', price: 9999, icon: 'fa-university' },
    { id: 'b_afk', text: 'AFK PRO', color: 'linear-gradient(45deg, #bdc3c7, #2c3e50)', price: 500, icon: 'fa-clock' },
    
    // FIXED: Made lighter (White/Light Grey)
    { id: 'b_nolife', text: 'NO LIFE', color: 'linear-gradient(45deg, #E0EAFC, #CFDEF3)', price: 1200, icon: 'fa-ghost' },
    
    { id: 'b_vitezoman', text: 'VITEZOMAN', color: 'linear-gradient(45deg, #f85032, #e73827)', price: 1500, icon: 'fa-tachometer-alt' },
    { id: 'b_instigator', text: 'INSTIGATOR', color: 'linear-gradient(45deg, #ff9966, #ff5e62)', price: 1100, icon: 'fa-fire' },
    { id: 'b_vedeta', text: 'VEDETĂ', color: 'linear-gradient(45deg, #fdbb2d, #b21f1f, #1a2a6c)', price: 3000, icon: 'fa-camera-retro' }, 
    { id: 'b_bisericos', text: 'SFINȚIȘOR', color: 'linear-gradient(45deg, #fff, #ffd700)', price: 3333, icon: 'fa-cross' },
    { id: 'b_escroc', text: 'ESCROC SENTIMENTAL', color: 'linear-gradient(45deg, #2C3E50, #FD746C)', price: 1669, icon: 'fa-user-tie' },
         { id: 'b_wheel_god', text: 'QUANTUM GOD', color: '#050b14', price: 99999, icon: 'fa-atom' },

];


const FRAMES_DB = [
        { id: 'fr_gold', name: 'GOLDEN GUARDIAN', price: 3000, img: 'https://i.ibb.co/5xBTcv2f/c2feac12-d32a-48f7-8514-eee47faf2e7e-removalai-preview.png' },
        { id: 'fr_red', name: 'CRIMSON CORE', price: 2000, scale: 1.15, img: 'https://i.ibb.co/5hmPh8LP/db5713a5-198a-4634-9f18-21026b81b198-removalai-preview.png' },
        { id: 'fr_vintage', name: 'VINTAGE', price: 1200, scale: 1.15, img: 'https://i.ibb.co/0ymk5P5K/060318de-c831-456c-8bd5-48361a2910eb-removalai-preview.png' },
        { id: 'fr_neon_purp', name: 'NEON VIOLET', price: 2500, img: 'https://i.ibb.co/20QskpYb/e4277974-c1b1-4414-b825-4c0c0c6ccb8b-removalai-preview.png' },
        { id: 'fr_dark_aura', name: 'DARK AURA', price: 2800, img: 'https://i.ibb.co/kgSSg8hW/37b47041-b7ef-437a-a264-031171530c1e-removalai-preview.png' },
        { id: 'fr_mystic', name: 'MYSTIC CIRCLE', price: 2200, scale: 1.30, img: 'https://i.ibb.co/DHzYt8nd/71f83e00-005a-461a-824a-db1e29e43e9c-removalai-preview.png' },
        { id: 'fr_fire_ring', name: 'RING OF FIRE', price: 2600, img: 'https://i.ibb.co/H5DZj1s/34d1af1c-6476-4a3e-8efd-0232c94b3278-removalai-preview.png' },
        { id: 'fr_royal_g', name: 'ROYAL GOLD', price: 3500, img: 'https://i.ibb.co/r2GNxXXz/c125fcf5-4433-4436-9fb1-8d5860204293-removalai-preview.png' },
        { id: 'fr_frost', name: 'FROSTBITE', price: 2700, img: 'https://i.ibb.co/398WGGqJ/8aed2529-6551-449d-b7af-6cf96ae067fa-removalai-preview.png' },
        { id: 'fr_nature', name: 'NATURE SPIRIT', price: 2100, scale: 1.30, img: 'https://i.ibb.co/1thwZB8P/b7360758-db43-49c8-a3a6-00b3583f1bf5-removalai-preview.png' },
        { id: 'fr_void', name: 'VOID WALKER', price: 4000, scale: 1.30, img: 'https://i.ibb.co/bj7YrZnW/81555995-ad54-4259-87ba-90abe6f689c0-removalai-preview.png' },
        { id: 'fr_plasma', name: 'PLASMA ARC', price: 2900, img: 'https://i.ibb.co/nMh3fG5Y/d9fe1206-dac5-494a-94bc-da8cc7ab923a-removalai-preview.png' },
        { id: 'fr_sun_god', name: 'SUN GOD', price: 5000, img: 'https://i.ibb.co/ks025DfV/97d743be-cad5-4a3d-ad58-33cb1ed6e200-removalai-preview.png' },
        { id: 'fr_toxic', name: 'TOXIC WASTE', price: 2300, scale: 1.35, img: 'https://i.ibb.co/nMYYr8ZB/ec739473-cde1-4ced-b48c-b118141735e9-removalai-preview.png' },
        { id: 'fr_angel', name: 'HOLY HALO', price: 3333, scale: 1.35, img: 'https://i.ibb.co/sxY83fg/905457b0-80b0-4304-bed4-2d88781faf29-removalai-preview.png' },
        { id: 'fr_demon', name: 'DEMON HORNS', price: 6666, scale: 1.35, img: 'https://i.ibb.co/mrgzLPff/136567cc-46ed-4849-ad44-01d07290dbfd-removalai-preview.png' },
        { id: 'fr_love', name: 'LOVE HEARTS', price: 1500, img: 'https://i.ibb.co/KPXxCnC/2076f0c9-aac4-431c-b708-d99ad87b4bf3-removalai-preview.png' },
        { id: 'fr_diamond', name: 'DIAMOND', price: 4500, img: 'https://i.ibb.co/ks6v3qHr/169811e4-7ab8-44dd-bb0e-83009093dcd9-removalai-preview.png' },
        { id: 'fr_mech', name: 'MECHA', price: 2400, img: 'https://i.ibb.co/Vpx0fnbP/3decd472-3a37-4d3c-95fa-f9fefab8ee78-removalai-preview.png' },
        { id: 'fr_glitch', name: 'GLITCH ERROR', price: 3100, img: 'https://i.ibb.co/fzWVhtv2/2bffa166-2107-4bef-b744-3cc7c8e04593-removalai-preview.png' },
        { id: 'fr_galaxy', name: 'GALAXY', price: 3800, img: 'https://i.ibb.co/qL909PLy/2640f988-a425-4589-ba5a-1f780d24916a-removalai-preview.png' }
   ];

const BANNERS_DB = [
    // --- BASIC / STATIC ---
    { id: 'bub_galaxy', name: 'GALAXY', cssClass: 'bubble-galaxy', price: 2500, desc: 'Spațial' },
    { id: 'bub_toxic', name: 'TOXIC', cssClass: 'bubble-toxic', price: 2000, desc: 'Radioactiv' },
    { id: 'bub_fire', name: 'INFERNO', cssClass: 'bubble-fire', price: 2000, desc: 'Clasici' },
    { id: 'bub_midas', name: 'MIDAS', cssClass: 'bubble-midas', price: 5000, desc: 'Solid Gold' },
    { id: 'bub_void', name: 'VOID', cssClass: 'bubble-void', price: 1500, desc: 'Pitch Black' },
    { id: 'bub_comic', name: 'CARTOON', cssClass: 'bubble-comic', price: 2000, desc: 'Bandă Desenată' },
    { id: 'bub_hearts', name: 'LOVE', cssClass: 'bubble-hearts', price: 1500, desc: 'Hearts Static' },
    { id: 'bub_pixel', name: '8-BIT', cssClass: 'bubble-pixel', price: 2500, desc: 'Retro Game' },
    { id: 'bub_graffiti', name: 'GRAFFITI', cssClass: 'bubble-graffiti', price: 3000, desc: 'Street Art' },
    { id: 'bub_ice', name: 'FROZEN', cssClass: 'bubble-ice', price: 2000, desc: 'Înghețat' },
    { id: 'bub_ocean', name: 'OCEAN', cssClass: 'bubble-ocean', price: 2000, desc: 'Deep Blue' },
    { id: 'bub_nature', name: 'FOREST', cssClass: 'bubble-nature', price: 1500, desc: 'Eco Friendly' },
    { id: 'bub_candy', name: 'CANDY', cssClass: 'bubble-candy', price: 1500, desc: 'Dulce' },
    { id: 'bub_military', name: 'ARMY', cssClass: 'bubble-military', price: 2000, desc: 'Camo' },
    { id: 'bub_blueprint', name: 'TECH', cssClass: 'bubble-blueprint', price: 2500, desc: 'Schită' },

    // --- ANIMATED (SICK EFFECTS) ---
    { id: 'anim_chroma', name: 'HYPER RGB', cssClass: 'bubble-anim-chroma', price: 8000, desc: 'Moving Rainbow' },
    { id: 'anim_holo', name: 'HOLOGRAPHIC', cssClass: 'bubble-anim-holo', price: 7500, desc: 'Shiny Metal' },
    { id: 'anim_blood', name: 'BLOOD PULSE', cssClass: 'bubble-anim-blood', price: 6666, desc: 'Pulsing Red' },
    { id: 'anim_glitch', name: 'SYS_ERROR', cssClass: 'bubble-anim-glitch', price: 7000, desc: 'Shaking Text' },
    { id: 'anim_storm', name: 'LIGHTNING', cssClass: 'bubble-anim-storm', price: 6000, desc: 'Flashing Storm' },
    { id: 'anim_neon', name: 'NEON PULSE', cssClass: 'bubble-anim-neon', price: 5500, desc: 'Glowing Pink' },
    { id: 'anim_slime', name: 'TOXIC DRIP', cssClass: 'bubble-anim-slime', price: 5000, desc: 'Moving Slime' },
    { id: 'anim_disco', name: 'DISCO', cssClass: 'bubble-anim-disco', price: 6500, desc: 'Epilepsy Warning' },
    { id: 'anim_gold', name: 'GOLD RUSH', cssClass: 'bubble-anim-gold', price: 10000, desc: 'Shimmering Gold' },
    { id: 'anim_ghost', name: 'POLTERGEIST', cssClass: 'bubble-anim-ghost', price: 4500, desc: 'Floating Fade' },
    { id: 'anim_love', name: 'HEARTBEAT', cssClass: 'bubble-anim-love', price: 4000, desc: 'Pulsing Hearts' },
    { id: 'anim_sparkle', name: 'STARDUST', cssClass: 'bubble-anim-sparkle', price: 5000, desc: 'Twinkling' },
         { id: 'bub_jackpot', name: 'VOID BANNER', cssClass: 'bubble-jackpot', price: 99999, desc: 'Quantum Void' },

];


// Add next to BANNERS_DB
const TEXTS_DB = [
    // --- ELEMENTAL (1,000 - 2,500) ---
    { id: 't_fire_1', name: 'FLACĂRĂ VIE', cssClass: 't-fire', price: 2200 },
    { id: 't_ice_1', name: 'GHEAȚĂ ETERNĂ', cssClass: 't-ice', price: 2100 },
    { id: 't_toxic_1', name: 'ACID TOXIC', cssClass: 't-toxic', price: 1800 },
    { id: 't_water_1', name: 'VALURI OCEAN', cssClass: 't-water', price: 1500 },
    { id: 't_storm_1', name: 'FULGER', cssClass: 't-storm', price: 2500 },
    { id: 't_magma', name: 'MAGMA FLOW', cssClass: 'bubble-fire', price: 2400 },
    { id: 't_poison', name: 'POISON DART', cssClass: 'bubble-toxic', price: 1900 },
    { id: 't_earth', name: 'TERRA', cssClass: 't-nature', price: 1200 },
    { id: 't_wind', name: 'VÂNT DE EST', cssClass: 't-ghost', price: 1300 },
    { id: 't_plasma', name: 'PLASMA ARC', cssClass: 'bubble-anim-storm', price: 2500 },

    // --- CYBER & TECH (1,500 - 3,500) ---
    { id: 't_glitch_1', name: 'ERROR SYSTEM', cssClass: 't-glitch', price: 3000 },
    { id: 't_matrix_1', name: 'NEO MATRIX', cssClass: 't-matrix', price: 2800 },
    { id: 't_neon_p', name: 'CYBER PINK', cssClass: 't-neon-pink', price: 2000 },
    { id: 't_neon_b', name: 'CYBER BLUE', cssClass: 't-neon-blue', price: 2000 },
    { id: 't_over', name: 'OVERLOAD', cssClass: 't-overload', price: 3500 },
    { id: 't_hacker', name: 'MAIN_FRAME', cssClass: 'bubble-matrix', price: 3200 },
    { id: 't_code', name: 'SOURCE CODE', cssClass: 'bubble-anim-glitch', price: 3400 },
    { id: 't_synth', name: 'SYNTHWAVE', cssClass: 'bubble-sunset', price: 1800 },
    { id: 't_binary', name: 'BINARY', cssClass: 't-matrix', price: 1500 },
    { id: 't_circuit', name: 'CIRCUIT', cssClass: 'bubble-blueprint', price: 1700 },

    // --- LUXURY (3,000 - 5,000) ---
    { id: 't_gold_1', name: 'AUR PUR', cssClass: 't-gold-anim', price: 4500 },
    { id: 't_diamond_1', name: 'DIAMANT', cssClass: 't-diamond', price: 5000 },
    { id: 't_ruby_1', name: 'RUBIN', cssClass: 't-ruby', price: 4200 },
    { id: 't_plat_1', name: 'PLATINĂ', cssClass: 't-platinum', price: 3800 },
    { id: 't_royal_1', name: 'REGEASCĂ', cssClass: 'bubble-royal', price: 4800 },
    { id: 't_emerald', name: 'SMARALD', cssClass: 'bubble-anim-slime', price: 3100 },
    { id: 't_sapphire', name: 'SAFIRE', cssClass: 't-neon-blue', price: 3300 },
    { id: 't_onyx', name: 'ONYX SHINE', cssClass: 'bubble-void', price: 3000 },
    { id: 't_luxury_v2', name: 'ELITE GOLD', cssClass: 'bubble-gold', price: 4700 },
    { id: 't_pearl', name: 'PERLĂ', cssClass: 't-ghost', price: 3200 },

    // --- COSMIC (2,500 - 4,500) ---
    { id: 't_neb_1', name: 'NEBULA', cssClass: 't-nebula', price: 4000 },
    { id: 't_gal_1', name: 'GALAXY', cssClass: 't-galaxy', price: 4500 },
    { id: 't_void_1', name: 'THE VOID', cssClass: 't-void', price: 3500 },
    { id: 't_pulsar', name: 'PULSAR', cssClass: 'bubble-anim-sparkle', price: 3800 },
    { id: 't_starlight', name: 'STARLIGHT', cssClass: 'text-ice', price: 2600 },
    { id: 't_eclipse', name: 'ECLIPSE', cssClass: 'bubble-void', price: 2900 },
    { id: 't_comet', name: 'COMETĂ', cssClass: 'bubble-anim-holo', price: 3700 },
    { id: 't_supernova', name: 'SUPERNOVA', cssClass: 'bubble-anim-chroma', price: 4400 },
    { id: 't_constel', name: 'ORION', cssClass: 'bubble-galaxy', price: 2500 },
    { id: 't_martian', name: 'MARTE', cssClass: 'bubble-blood', price: 2700 },

    // --- DARK & UNIQUE (1,500 - 4,000) ---
    { id: 't_blood_1', name: 'SÂNGE', cssClass: 't-blood', price: 3000 },
    { id: 't_ghost_1', name: 'SPIRIT', cssClass: 't-ghost', price: 2000 },
    { id: 't_shadow', name: 'UMBRĂ', cssClass: 'bubble-void', price: 1500 },
    { id: 't_curse', name: 'BLESTEM', cssClass: 't-toxic', price: 2800 },
    { id: 't_vampire', name: 'DRACULA', cssClass: 'bubble-blood', price: 3200 },
    { id: 't_demon', name: 'DEMONIC', cssClass: 'bubble-fire', price: 3500 },
    { id: 't_reaper', name: 'MOARTEA', cssClass: 't-void', price: 4000 },
    { id: 't_zombie', name: 'UNDEAD', cssClass: 'bubble-toxic', price: 1800 },
    { id: 't_phantom', name: 'FANTOMĂ', cssClass: 'bubble-anim-ghost', price: 2500 },
    { id: 't_skeleton', name: 'OSOS', cssClass: 't-ghost', price: 1600 },

    // --- FUN & VIBRANT (1,000 - 3,000) ---
    { id: 't_rain_1', name: 'RAINBOW', cssClass: 'text-rainbow', price: 2500 },
    { id: 't_candy_1', name: 'CANDY', cssClass: 'bubble-candy', price: 1200 },
    { id: 't_love_1', name: 'LOVE', cssClass: 'bubble-hearts', price: 1500 },
    { id: 't_disco', name: 'DISCO', cssClass: 'bubble-anim-disco', price: 3000 },
    { id: 't_graff', name: 'GRAFFITI', cssClass: 'bubble-graffiti', price: 1800 },
    { id: 't_comic', name: 'CARTOON', cssClass: 'bubble-comic', price: 1400 },
    { id: 't_pixel', name: '8-BIT', cssClass: 'bubble-pixel', price: 1600 },
    { id: 't_bubble', name: 'GUMĂ', cssClass: 'bubble-anim-love', price: 1100 },
    { id: 't_lemon', name: 'LĂMÂIE', cssClass: 't-fire', price: 1000 },
    { id: 't_mint', name: 'MENTĂ', cssClass: 't-toxic', price: 1000 },

    // --- ELITE SERIES (4,000 - 5,000) ---
    { id: 't_hero', name: 'SUPER EROU', cssClass: 'bubble-anim-chroma', price: 4500 },
    { id: 't_villain', name: 'ANTI EROU', cssClass: 'bubble-anim-blood', price: 4500 },
    { id: 't_god', name: 'ZEU', cssClass: 'bubble-anim-gold', price: 5000 },
    { id: 't_angel', name: 'ÎNGER', cssClass: 'bubble-anim-sparkle', price: 4800 },
    { id: 't_hologram', name: 'HOLOGRAMĂ', cssClass: 'bubble-anim-holo', price: 4200 },
    { id: 't_storm_god', name: 'THOR', cssClass: 'bubble-anim-storm', price: 4900 },
    { id: 't_cyber_king', name: 'NEO-REGE', cssClass: 't-overload', price: 4100 },
    { id: 't_void_king', name: 'REGE VOID', cssClass: 'bubble-void', price: 4300 },
    { id: 't_infinity', name: 'INFINIT', cssClass: 'text-rainbow', price: 5000 },
    { id: 't_ultimate', name: 'ULTIMAT', cssClass: 'bubble-anim-gold', price: 5000 },

    // --- BUDGET VARIATIONS (1,000 - 1,500) ---
    { id: 't_blue_p', name: 'BLUE PULSE', cssClass: 't-neon-blue', price: 1500 },
    { id: 't_red_p', name: 'RED PULSE', cssClass: 't-fire', price: 1500 },
    { id: 't_green_p', name: 'GREEN PULSE', cssClass: 't-toxic', price: 1500 },
    { id: 't_simple_g', name: 'AUR IEFTIN', cssClass: 't-gold-anim', price: 1400 },
    { id: 't_simple_s', name: 'ARGINT', cssClass: 't-platinum', price: 1200 },
    { id: 't_carbon', name: 'CARBON', cssClass: 'bubble-void', price: 1100 },
    { id: 't_zebra', name: 'ZEBRA', cssClass: 'bubble-comic', price: 1000 },
    { id: 't_tiger', name: 'TIGRU', cssClass: 't-fire', price: 1200 },
    { id: 't_army', name: 'MILITAR', cssClass: 'bubble-military', price: 1300 },
    { id: 't_lava', name: 'LAVĂ', cssClass: 'bubble-fire', price: 1400 }
];;

window.equipText = async (id, cssClass) => {
    try {
        await updateDoc(doc(db, "accounts", auth.currentUser.uid), { 
            equippedText: { id, cssClass } 
        });
        window.openInventory('texts'); 
    } catch(e) { alert("Eroare text!"); }
};
    async function getIP() {
        try {
            const res = await fetch('https://api.ipify.org?format=json');
            const data = await res.json();
            return data.ip;
        } catch(e) { return "Necunoscut"; }
    }

// 1. GLOBAL BAN CHECK (OPTIMIZED)
// --- ULTIMATE BAN SYSTEM ---
// --- 1. SUPERIOR BAN SYSTEM (FIXED) ---
async function checkGlobalBan() {
    const overlay = document.getElementById('bannedOverlay');
    const content = document.getElementById('siteContent');
    const sideMenu = document.getElementById('sideMenu'); // Get side menu
    const header = document.querySelector('.header-container'); // Get header
    
    const reasonText = document.getElementById('globalBanReason');
    const ipText = document.getElementById('globalBanIp');

    // HELPER: EXECUTE THE NUKE (ONLY RUNS IF BANNED)
    const hammerBan = (reason, ipOrId) => {
        console.log("BAN TRIGGERED: ", reason);

        // 1. Mark the browser (The "Mark of Death")
        localStorage.setItem('ksda_perma_ban', 'true');
        sessionStorage.setItem('isBanned', 'true');
        
        // 2. NUKE VISUALS (Remove content so they see nothing)
        if(content) content.remove();
        if(sideMenu) sideMenu.remove();
        if(header) header.remove();
        
        // 3. SHOW RED OVERLAY
        if(overlay) {
            overlay.style.display = 'flex';
            if(reasonText) reasonText.innerText = reason;
            if(ipText) ipText.innerText = ipOrId;
        }
        document.body.style.overflow = 'hidden'; // Stop scrolling

        // 4. ACTIVATE ANTI-TAMPER (ONLY NOW)
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.onkeydown = function(e) {
            if(e.keyCode == 123) return false; // F12
            if(e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) return false;
            if(e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) return false;
            if(e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) return false;
            if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
        }
    };

    // CHECK 1: Browser Fingerprint (Instant Local Check)
    if (localStorage.getItem('ksda_perma_ban') === 'true') {
        hammerBan("Dispozitiv Banat Anterior", "Device-ID");
        return;
    }

    // CHECK 2: IP Address (Database Check)
    try {
        const res = await fetch('https://api.ipify.org?format=json');
        const data = await res.json();
        const userIP = data.ip;

        const banRef = doc(db, "banned_ips", userIP);
        const banSnap = await getDoc(banRef);

        if (banSnap.exists()) {
            const banData = banSnap.data();
            hammerBan(banData.reason || "IP Blacklisted", userIP);
        }
    } catch (e) {
        console.error("IP Check Error:", e);
    }
}

// Run the check immediately
checkGlobalBan();
 

    // LOGICA QUEST KEVIN BOT (15 MESAJE)
// LOGICA QUEST KEVIN BOT (15 MESAJE) - WITH FIREBASE CHECK
    window.trackKevinQuest = async () => {
        if (!auth.currentUser) return;
        const userRef = doc(db, "accounts", auth.currentUser.uid);
        
        try {
            // 1. Increment Message Count
            await updateDoc(userRef, { kevinMessagesToday: increment(1) });
            
            // 2. Check Requirements
            const snap = await getDoc(userRef);
            const data = snap.data();
            const active = data.activeDailyQuests || [];
            const completed = data.completedQuests || [];
            const count = data.kevinMessagesToday || 0;

            // 3. Logic: Active Quest + Count >= 15 + Not Done
// 3. Logic: Active Quest + Count >= 15 + Not Done
            if (active.includes('kevin_talk_15') && !completed.includes('kevin_talk_15') && count >= 15) {
                
                // Award 350 Coins
                await updateDoc(userRef, {
                    coins: increment(350),
                    completedQuests: arrayUnion('kevin_talk_15')
                });

                // --- LOG 3: KEVIN BOT QUEST ---
                await logTransaction(350, "COINS", "Quest: Vorbește cu Kevin", "Acasă");
                
                // Show Popup... (Keep your existing popup code here)
                const modal = document.getElementById('questRewardModal');
                if(modal) {
                    // Update text dynamically
                    const card = modal.querySelector('.reward-card');
                    if(card) {
                        card.querySelector('h2').innerText = "🎯 QUEST COMPLET!";
                        card.querySelector('p').innerText = "Ai vorbit 15 mesaje cu Kevin Bot! Bravo!";
                        card.querySelector('.reward-coins-box span').innerText = "350";
                    }
                    modal.classList.add('active');
                }
            }
        } catch(e) { console.error("Quest Error:", e); }
    };

    // --- 2. ONLINE STATUS TRACKING (THROTTLED) ---
    let lastStatusUpdate = 0;
    const UPDATE_INTERVAL = 3 * 60 * 1000; // Update only every 3 minutes

    async function updateOnlineStatus() {
        if (!auth.currentUser) return;
        const now = Date.now();
        
        if (now - lastStatusUpdate > UPDATE_INTERVAL) {
            lastStatusUpdate = now;
            try {
                await updateDoc(doc(db, "accounts", auth.currentUser.uid), {
                    isOnline: true,
                    lastActive: serverTimestamp()
                });
                console.log("Status Online Actualizat");
            } catch(e) { console.error("Status update error", e); }
        }
    }


function formatCurrency(num) {
    if (num >= 1000000) return (num / 1000000).toFixed(1).replace(/\.0$/, '') + 'M';
    if (num >= 1000) return (num / 1000).toFixed(1).replace(/\.0$/, '') + 'k';
    return num || 0;
}

    // Attach listeners
    window.addEventListener('scroll', updateOnlineStatus);
    window.addEventListener('click', updateOnlineStatus);
    window.addEventListener('mousemove', updateOnlineStatus);

    // --- LOGIN LOGIC ---
async function handleLoginFlow() {
        try {
            const result = await signInWithPopup(auth, provider);
            const user = result.user;
            const ip = await getIP();
            const userRef = doc(db, "accounts", user.uid);
            const snap = await getDoc(userRef);

if(!snap.exists()) {
                // --- NEW USER DETECTED ---
                
                // 1. Check for Referral
                let baseCoins = 250;
                let referralBonus = 1000;
                let startingCoins = baseCoins;
                
                let referrerId = sessionStorage.getItem('referrerUid'); 
                let hasReferred = false;

                // Validate Referral (Cannot refer self)
                if (referrerId && referrerId !== user.uid) {
                    startingCoins += referralBonus; // Total 1250
                    hasReferred = true;
                }

                // 2. Create Account
                await setDoc(userRef, {
                    uid: user.uid,
                    username: user.displayName,
                    email: user.email,
                    image: user.photoURL,
                    coins: startingCoins,
                    diamonds: 0, 
                    streak: 0,
                    joinedAt: serverTimestamp(),
                    totalReferrals: 0,
                    ip: ip,
                    kevinMessagesToday: 0, 
                    completedQuests: []
                });

                // --- TRANSACTION LOG 1: WELCOME BONUS (250) ---
                // Se loghează pentru userul curent
                await logTransaction(baseCoins, "COINS", "Welcome Bonus", "Acasă");

                // 3. Handle Referral Rewards
                if (hasReferred) {
                    try {
                        // --- TRANSACTION LOG 2: REFERRAL BONUS FOR ME (1000) ---
                        await logTransaction(referralBonus, "COINS", "Referral Bonus (Invited)", "Referral Acasă");

                        const inviterRef = doc(db, "accounts", referrerId);
                        
                        // Citim datele inviter-ului pentru a-i putea loga numele in tranzactie
                        const inviterSnap = await getDoc(inviterRef);

                        await updateDoc(inviterRef, { 
                            coins: increment(1000),          
                            pendingReferrals: increment(1),  
                            totalReferrals: increment(1),     
                            
                            // Save friend to list
                            referralHistory: arrayUnion({
                                name: user.displayName || "User Nou",
                                uid: user.uid,
                                timestamp: Date.now()
                            })
                        });

                        // --- TRANSACTION LOG 3: REFERRAL BONUS FOR INVITER (1000) ---
                        // Aici trebuie să folosim addDoc manual pentru că funcția logTransaction folosește implicit auth.currentUser
                        if (inviterSnap.exists()) {
                            const invData = inviterSnap.data();
                            await addDoc(collection(db, "transactions"), {
                                userId: referrerId, // ID-ul celui care a invitat
                                username: invData.username || "Inviter",
                                userImage: invData.image || "https://iili.io/fhc1SKQ.png",
                                amount: 1000,
                                type: "COINS",
                                description: `Referral Bonus (Invited ${user.displayName})`,
                                source: "Referral System",
                                timestamp: serverTimestamp()
                            });
                        }

                    } catch(e) { console.error("Referral error:", e); }

                    // Show Popup to NEW USER
                    const refModal = document.getElementById('referralRewardModal');
                    if(refModal) {
                        document.getElementById('referralText').innerText = "Ai fost invitat! Ai primit 1000 Coins bonus.";
                        refModal.classList.add('active');
                    }
                } else {
                    // Normal Welcome
                    if(document.getElementById('rewardModal')) {
                        document.getElementById('rewardModal').classList.add('active');
                    }
                }

            } else {
                // Existing User - Just update IP/Photo
                await setDoc(userRef, { ip: ip, image: user.photoURL }, { merge: true });
            }
            updateOnlineStatus(); 
        } catch(e) { console.error(e); }
    }

    headerLoginBtn.onclick = () => {
        if (!auth.currentUser) handleLoginFlow();
        else accountModal.classList.add('active');
    };
    if(mobileLoginBtn) {
        mobileLoginBtn.onclick = () => {
            if (!auth.currentUser) handleLoginFlow();
            else { sideMenu.classList.remove('open'); accountModal.classList.add('active'); }
        };
    }

    closeAccountPop.onclick = () => accountModal.classList.remove('active');
    document.getElementById('popLogoutBtn').onclick = () => {
        signOut(auth).then(() => accountModal.classList.remove('active'));
    };

    // --- COSMETICS LOGIC ---
    openCosmeticsBtn.onclick = () => {
        accountModal.classList.remove('active');
        cosmeticsSelectModal.classList.add('active');
    }

    // --- INVENTORY LOGIC (FIXED DUPLICATION) ---
    window.openInventory = async (type = 'badges') => {
        const list = document.getElementById('inventoryList');
        const actionContainer = document.getElementById('inventoryActions');
        list.innerHTML = '<div style="color:#aaa;">Se încarcă...</div>';
        actionContainer.innerHTML = ''; 

        const userSnap = await getDoc(doc(db, "accounts", auth.currentUser.uid));
        const data = userSnap.data();

        list.innerHTML = '';

       if(type === 'badges') {
    const ownedIds = data.ownedBadges || [];
    const equipped = data.equippedBadge?.id || null;

    if(ownedIds.length === 0) { list.innerHTML = '<p style="width:100%; text-align:center; color:#aaa;">Nu ai insigne.</p>'; return; }

    ownedIds.forEach(id => {
        const badge = BADGES_DB.find(b => b.id === id);
        if(!badge) return;
        
        const isEquipped = (id === equipped);
        const isQuantum = (id === 'b_wheel_god'); // Detect our special badge
        
        const item = document.createElement('div');
        item.className = 'shop-badge-item';
        
        // FIX: If it's the quantum badge, we DON'T apply the inline background/color
        // so the CSS class can do its job.
        const styleAttr = isQuantum ? "" : `style="background:${badge.color}; color:#000; box-shadow:0 0 10px ${badge.color}; border:none;"`;
        const quantumClass = isQuantum ? "badge-wheel-god" : "shop-badge-preview";

        item.innerHTML = `
            <span class="${quantumClass}" ${styleAttr}>
                <i class="fas ${badge.icon}"></i> ${badge.text}
            </span>
            ${isEquipped 
                ? `<button class="equip-btn" style="background:#555; cursor:default;">ECHIPAT</button>`
                : `<button class="equip-btn" onclick="equipBadge('${badge.id}', '${badge.text}', '${badge.color}', '${badge.icon}')">ECHIPEAZĂ</button>`
            }
        `;
        list.appendChild(item);
    });
            
            if(equipped) {
                 const unequipBtn = document.createElement('button');
                 unequipBtn.className = 'unequip-all-btn';
                 unequipBtn.innerHTML = '<i class="fas fa-ban"></i> DEZ-ECHIPEAZĂ TOT';
                 unequipBtn.onclick = async () => { await updateDoc(doc(db, "accounts", auth.currentUser.uid), { equippedBadge: null }); window.openInventory('badges'); };
                 actionContainer.appendChild(unequipBtn);
            }
        } 
        else if (type === 'banners') {
            const ownedIds = data.ownedBanners || [];
            const equipped = data.equippedBanner?.id || null;
            
            if(ownedIds.length === 0) { list.innerHTML = '<p style="width:100%; text-align:center; color:#aaa;">Nu ai bannere.</p>'; return; }
            
            ownedIds.forEach(id => {
                const item = BANNERS_DB.find(b => b.id === id);
                if(item) {
                    const isEquipped = (id === equipped);
                    const card = document.createElement('div');
                    card.className = 'shop-badge-item';
                    card.innerHTML = `
                        <div class="${item.cssClass}" style="padding:5px; border-radius:5px; font-size:10px; width:100%;">PREVIEW</div>
                        <div style="font-weight:700; font-size:11px; margin:5px 0;">${item.name}</div>
                        ${isEquipped 
                            ? `<button class="equip-btn" style="background:#555; cursor:default;">ECHIPAT</button>` 
                            : `<button class="equip-btn" onclick="equipBanner('${item.id}', '${item.cssClass}')">ECHIPEAZĂ</button>`
                        }
                    `;
                    list.appendChild(card);
                }
            });
            
            if(equipped) {
                 const unequipBtn = document.createElement('button');
                 unequipBtn.className = 'unequip-all-btn';
                 unequipBtn.innerHTML = '<i class="fas fa-ban"></i> SCOATE BANNER';
                 unequipBtn.onclick = async () => { await updateDoc(doc(db, "accounts", auth.currentUser.uid), { equippedBanner: null }); window.openInventory('banners'); };
                 actionContainer.appendChild(unequipBtn);
            }
        }

else if(type === 'texts') {
    const ownedIds = data.ownedTexts || [];
    const equipped = data.equippedText?.id || null;
    if(ownedIds.length === 0) { list.innerHTML = '<p style="text-align:center; color:#aaa;">Nu ai culori text.</p>'; }
    ownedIds.forEach(id => {
        const item = TEXTS_DB.find(b => b.id === id);
        if(item) {
            const isEquipped = (id === equipped);
            list.innerHTML += `
                <div class="shop-badge-item">
                    <div class="${item.cssClass}" style="font-size:14px; font-weight:800; margin-bottom:10px;">${data.username}</div>
                    <button class="equip-btn" ${isEquipped ? 'style="background:#555;" disabled' : `onclick="equipText('${item.id}', '${item.cssClass}')"`}>
                        ${isEquipped ? 'ECHIPAT' : 'ECHIPEAZĂ'}
                    </button>
                </div>`;
        }
    });
    if(equipped) {
        const unBtn = document.createElement('button');
        unBtn.className = 'unequip-all-btn';
        unBtn.innerHTML = '<i class="fas fa-ban"></i> RESETEAZĂ CULOAREA';
        unBtn.onclick = async () => { await updateDoc(doc(db, "accounts", auth.currentUser.uid), { equippedText: null }); window.openInventory('texts'); };
        actionContainer.appendChild(unBtn);
    }
}

else if (type === 'frames') {
            const ownedIds = data.ownedFrames || [];
            const equipped = data.equippedFrame?.id || null;
            const userPic = data.image || auth.currentUser.photoURL;

            if(ownedIds.length === 0) { list.innerHTML = '<p style="width:100%; text-align:center; color:#aaa;">Nu ai rame.</p>'; return; }

            ownedIds.forEach(id => {
                const item = FRAMES_DB.find(b => b.id === id);
                if(item) {
                    const isEquipped = (id === equipped);
                    const scale = item.scale || 1.45;
                    const sizePct = scale * 100;
                    const card = document.createElement('div');
                    card.className = 'shop-badge-item';
                    card.innerHTML = `
                        <div class="frame-preview-box">
                            <img src="${userPic}" class="frame-preview-user">
                            <img src="${item.img}" class="frame-preview-img" style="width:${sizePct}%; height:${sizePct}%;">
                        </div>
                        <div style="font-weight:700; font-size:11px; margin:5px 0;">${item.name}</div>
                        ${isEquipped 
                            ? `<button class="equip-btn" style="background:#555; cursor:default;">ECHIPAT</button>` 
                            : `<button class="equip-btn" onclick="equipFrame('${item.id}', '${item.img}', ${scale})">ECHIPEAZĂ</button>`
                        }
                    `;
                    list.appendChild(card);
                }
            });
             if(equipped) {
                 const unequipBtn = document.createElement('button');
                 unequipBtn.className = 'unequip-all-btn';
                 unequipBtn.innerHTML = '<i class="fas fa-ban"></i> SCOATE RAMA';
                 unequipBtn.onclick = async () => { await updateDoc(doc(db, "accounts", auth.currentUser.uid), { equippedFrame: null }); window.openInventory('frames'); };
                 actionContainer.appendChild(unequipBtn);
            }
        }
    };



window.equipFrame = async (id, imgUrl, scale = 1.45) => {
        try {
            await updateDoc(doc(db, "accounts", auth.currentUser.uid), { equippedFrame: { id, img: imgUrl, scale: scale } });
            window.openInventory('frames');
        } catch(e) { alert("Eroare: " + e.message); }
    };

    // Add this new function for Equipping Banners
    window.equipBanner = async (id, cssClass) => {
        try { 
            await updateDoc(doc(db, "accounts", auth.currentUser.uid), { 
                equippedBanner: { id, cssClass } 
            });
            window.openInventory('banners');
        } catch(e) { alert("Eroare: " + e.message); }
    };
    window.equipBadge = async (id, text, color, icon) => {
        try {
            await updateDoc(doc(db, "accounts", auth.currentUser.uid), {
                equippedBadge: { id, text, color, icon }
            });
            window.openInventory(); 
        } catch(e) { alert("Eroare: " + e.message); }
    };

    // --- EDIT PROFILE HANDLERS ---
    openEditProfileBtn.onclick = async () => {
        accountModal.classList.remove('active'); 
        editProfileModal.classList.add('active'); 
        
        if(auth.currentUser) {
            const snap = await getDoc(doc(db, "accounts", auth.currentUser.uid));
            if(snap.exists()) {
                const data = snap.data();
                editBirth.value = data.birthDate || "";
                editBio.value = data.bio || "";
                editTikTok.value = data.tiktokLink || "";
            }
        }
    };

    closeEditProfile.onclick = () => {
        editProfileModal.classList.remove('active');
        accountModal.classList.add('active'); 
    };

    saveProfileBtn.onclick = async () => {
        if(!auth.currentUser) return;
        
        const birth = editBirth.value;
        const bio = editBio.value.trim();
        const tiktok = editTikTok.value.trim();

        try {
            await updateDoc(doc(db, "accounts", auth.currentUser.uid), {
                birthDate: birth,
                bio: bio,
                tiktokLink: tiktok
            });
            alert("Profil salvat cu succes!");
            editProfileModal.classList.remove('active');
            accountModal.classList.add('active');
        } catch(e) {
            alert("Eroare la salvare: " + e.message);
        }
    };


async function resetUserQuests(userRef, snapData) {
    const now = new Date();
    const dateStr = now.toLocaleDateString("en-CA", { timeZone: "Europe/Bucharest" });
    const hours = parseInt(now.toLocaleTimeString("en-GB", { timeZone: "Europe/Bucharest", hour: '2-digit' }));
    const block = hours < 12 ? 'AM' : 'PM';
    const resetKey = `${dateStr}-${block}`;

    if (snapData.lastResetBlock && snapData.lastResetBlock !== resetKey) {
        let finalStreak = snapData.streak || 0;
        // Penalizare streak pierdut
        if (snapData.lastStreakAwardedBlock !== snapData.lastResetBlock) {
            window.runAdaptiveStreakAnimation(finalStreak);
            finalStreak = 0;
        }
        // Resetare completă counters
        await updateDoc(userRef, {
            streak: finalStreak, lastResetBlock: resetKey,
            messagesSentToday: 0, wallRepliesToday: 0, wallReactionsToday: 0,
            kevinMessagesToday: 0, newsVisitedToday: 0, feedbackGivenToday: 0,
            galleryLikesToday: 0, galleryCommentsToday: 0, completedQuests: (snapData.completedQuests || []).filter(id => id==='social3'||id==='review')
        });
    } else if (!snapData.lastResetBlock) {
        await updateDoc(userRef, { lastResetBlock: resetKey });
    }
}

// --- 5. AUTH & LOGIC (VARIANTA FINALĂ INDEX.HTML) ---
    let isAwardingInProgress = false; // Previne dublarea ferestrelor

// --- 5. AUTH & LOGIC (UPDATED WITH BAN CHECK) ---

onAuthStateChanged(auth, async (user) => {
        if (user) {
            const userRef = doc(db, "accounts", user.uid);
            
            // --- BAN SYSTEM LOGIC ---
            const snapCheck = await getDoc(userRef);
            const isDbBanned = snapCheck.exists() && snapCheck.data().isBanned === true;

            if (isDbBanned) {
                // 1. EXECUTE BAN (If DB says banned)
                console.log("ACCOUNT BANNED. NUKING INTERFACE.");
                localStorage.setItem('ksda_perma_ban', 'true');
                sessionStorage.setItem('isBanned', 'true');

                // Remove Site Content
                const content = document.getElementById('siteContent');
                const sideMenu = document.getElementById('sideMenu');
                const header = document.querySelector('.header-container');
                if(content) content.remove();
                if(sideMenu) sideMenu.remove();
                if(header) header.remove();

                // Show Overlay
                const overlay = document.getElementById('bannedOverlay');
                if(overlay) {
                    overlay.style.display = 'flex';
                    document.getElementById('globalBanReason').innerText = "Cont Banat Permanent";
                    document.getElementById('globalBanIp').innerText = "ID: " + user.uid;
                }
                document.body.style.overflow = 'hidden';

                // Anti-Tamper
                document.addEventListener('contextmenu', event => event.preventDefault());
                document.onkeydown = function(e) {
                    if(e.keyCode == 123) return false; 
                    if(e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0))) return false;
                    if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
                }
                return; // STOP EXECUTION
            } 
            else {
                // 2. UNBAN RECOVERY (SELF-HEALING)
                // If DB says NOT banned, but browser has the mark, remove it and reload.
                if (localStorage.getItem('ksda_perma_ban') === 'true') {
                    console.log("Account is safe. Removing local ban mark...");
                    localStorage.removeItem('ksda_perma_ban');
                    sessionStorage.removeItem('isBanned');
                    window.location.reload(); // Reload to restore the deleted site content
                    return;
                }
            }
            // --- END BAN LOGIC ---

            headerLoginText.innerText = "ACCOUNT";
            headerUserImg.src = user.photoURL;
            headerUserImg.style.display = "block";
            
            if(mobileLoginBtn) {
                mobileLoginBtn.innerHTML = '<i class="fas fa-user-circle"></i> Cont';
            }

            // 1. Verificare OWNER
            const adminBtn = document.getElementById('ownerResetBtn');
            if (user.email === 'nicaemmanuel433qe@gmail.com' && adminBtn) {
                adminBtn.style.display = 'inline-block';
            }

            // 2. Metadata Listener
            onSnapshot(doc(db, "site_metadata", "counters"), (metaSnap) => {
                const totalGlobal = metaSnap.data()?.totalNews || 0;

                // 3. User Data Listener
                onSnapshot(userRef, async (uSnap) => {
                    if(!uSnap.exists()) return;
                    const data = uSnap.data();

                    // LIVE BAN CHECK (If banned while online)
                    if (data.isBanned === true) {
                        location.reload(); 
                        return;
                    }

                    // Referral Logic
                    if (data.pendingReferrals && data.pendingReferrals > 0) {
                        const count = data.pendingReferrals;
                        const totalBonus = count * 1000;
                        const refModal = document.getElementById('referralRewardModal');
                        const refText = document.getElementById('referralText');
                        const refAmount = refModal ? refModal.querySelector('.reward-coins-box span') : null;

                        if (refModal && refText && refAmount) {
                            refText.innerText = count === 1 ? "Un prieten s-a înregistrat!" : `${count} prieteni s-au înregistrat!`;
                            refAmount.innerText = totalBonus; 
                            refModal.classList.add('active');
                            await updateDoc(userRef, { pendingReferrals: 0 });
                        }
                    }
                    
                    // Quest & Streak Logic
                    if (typeof resetUserQuests === "function") await resetUserQuests(userRef, data);

                    const activeIds = data.activeDailyQuests || [];
                    const completedIds = data.completedQuests || [];
                    const finishedCount = activeIds.filter(id => completedIds.includes(id)).length;

                    if (activeIds.length === 6 && finishedCount === 6 && data.lastResetBlock !== "FORCE_RESET") {
                        if (data.lastStreakAwardedBlock !== data.lastResetBlock) {
                            if (!isAwardingInProgress) {
                                isAwardingInProgress = true;
                                const oldStr = data.streak || 0;
                                await logTransaction(1, "DIAMONDS", "STREAK BONUS: 6/6 Acasă");
                                await updateDoc(userRef, {
                                    streak: increment(1),
                                    diamonds: increment(1),
                                    lastStreakAwardedBlock: data.lastResetBlock
                                });
                                const rewardModal = document.getElementById('streakRewardModal');
                                if (rewardModal) {
                                    document.getElementById('streakOld').innerText = oldStr;
                                    document.getElementById('streakNew').innerText = oldStr + 1;
                                    rewardModal.classList.add('active');
                                }
                                setTimeout(() => { isAwardingInProgress = false; }, 3000);
                            }
                        }
                    }

                    // Populate UI
                    document.getElementById('popUserImg').src = data.image || user.photoURL;
                    const popFrame = document.getElementById('popUserFrame');
                    if(popFrame) {
                        if (data.equippedFrame?.img) {
                            popFrame.src = data.equippedFrame.img;
                            popFrame.style.display = "block";
                            const scale = data.equippedFrame.scale || 1.45;
                            popFrame.style.width = (scale * 100) + "%";
                            popFrame.style.height = (scale * 100) + "%";
                        } else { popFrame.style.display = "none"; }
                    }

                    const nameEl = document.getElementById('popUserName');
                    let rawName = data.username || user.displayName;
                    if(data.email === 'nicaemmanuel433qe@gmail.com') rawName = "Lost Soul";
                    if (data.equippedText?.cssClass) {
                        nameEl.innerHTML = `<span class="${data.equippedText.cssClass}">${rawName}</span>`;
                    } else { nameEl.innerText = rawName; }

                    document.getElementById('popUserEmail').innerText = data.email;
                    const streakDisplay = document.querySelector('.streak-txt');
                    if (streakDisplay) streakDisplay.innerText = `Daily Streak: ${data.streak || 0}`;

                    document.getElementById('popUserCoins').innerText = formatCurrency(data.coins || 0);
                    const diamondEl = document.getElementById('popUserDiamonds');
                    if(diamondEl) diamondEl.innerText = formatCurrency(data.diamonds || 0);

                    const popBadgeBox = document.getElementById('popUserBadges');
                    if(popBadgeBox) {
                        let badgesHtml = "";
                        const email = data.email || "";
                        if(email === 'nicaemmanuel433qe@gmail.com') badgesHtml += `<div><span class="owner-badge">WEBSITE OWNER</span></div>`;
                        else if(email === 'kevin.trinity2020@gmail.com') badgesHtml += `<div><span class="admin-badge">ADMIN</span></div>`;
                        else if(['mary.bughi@gmail.com', 'emmanuel.nica83@gmail.com'].includes(email)) badgesHtml += `<div><span class="mod-badge">MODERATOR</span></div>`;
                        
                        if(data.equippedBadge) {
                            badgesHtml += `<div style="margin-top:5px;"><span class="cosmetic-badge" style="background:${data.equippedBadge.color}; color:#000;"><i class="fas ${data.equippedBadge.icon}"></i> ${data.equippedBadge.text}</span></div>`;
                        }
                        popBadgeBox.innerHTML = badgesHtml;
                    }

                    const userVazute = data.lastSeenNewsCount || 0;
                    const noutatiNoi = totalGlobal - userVazute;
                    const heroBadge = document.getElementById('heroNotifBadge');
                    if (heroBadge) {
                        if (noutatiNoi > 0) {
                            heroBadge.innerText = `+${noutatiNoi}`;
                            heroBadge.style.display = 'flex';
                        } else { heroBadge.style.display = 'none'; }
                    }
                });
            });

            updateOnlineStatus(); 
        } else {
            headerLoginText.innerText = "LOGIN";
            headerUserImg.style.display = "none";
            if(mobileLoginBtn) mobileLoginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Autentificare';
        }
    });


window.runAdaptiveStreakAnimation = (startValue) => {
    const missedModal = document.getElementById('streakMissedModal');
    const missedTxt = document.getElementById('streakOldMissed');
    let temp = startValue;
    missedTxt.innerText = temp;
    missedModal.classList.add('active');
    function step() {
        if (temp > 0) {
            temp--; missedTxt.innerText = temp;
            let delay = (temp > 20) ? 40 : (temp > 10 ? 100 : 400);
            setTimeout(step, delay);
        }
    }
    setTimeout(step, 800);
};

window.flyDiamond = () => {
    const flyer = document.getElementById('flyingDiamond');
    const source = document.getElementById('sourceDiamond');
    const target = document.getElementById('headerLoginBtn') || document.getElementById('menuBtn');
    const sRect = source.getBoundingClientRect();
    const tRect = target.getBoundingClientRect();
    flyer.style.display = 'block'; flyer.style.top = sRect.top + 'px'; flyer.style.left = sRect.left + 'px'; flyer.style.opacity = '1';
    setTimeout(() => {
        flyer.style.transition = 'all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
        flyer.style.top = (tRect.top + 5) + 'px'; flyer.style.left = (tRect.left + 5) + 'px';
        flyer.style.transform = 'scale(0) rotate(720deg)'; flyer.style.opacity = '0';
    }, 100);
    setTimeout(() => { flyer.style.display = 'none'; document.getElementById('streakRewardModal').classList.remove('active'); }, 1100);
};
document.getElementById('claimStreakBtn').onclick = window.flyDiamond;


function generateDailyIds() {
    // Lista tuturor ID-urilor de quest-uri (fără cele permanente)
    const pool = ['wall_reply_5', 'kevin_talk_15', 'visit_news', 'msg3', 'give_feedback', 'trivia_single_5', 'wall_react_10', 'wall_long_msg', 'meet_team_hunt', 'tiktok5', 'gallery_task', 'buy_badge', 'buy_banner', 'buy_frame', 'donate_100', 'trivia_multi_5'];
    return pool.sort(() => 0.5 - Math.random()).slice(0, 6);
}
  </script>
</body>
</html>```





 



 



